(this.webpackJsonpmestos=this.webpackJsonpmestos||[]).push([[0],{101:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(17),s=a.n(r),c=(a(97),a(37)),o=(a(101),a(9)),i=a.n(o),l=a(16),u=a(14),d=a(23);a(109),a(112),a(110),a(104);d.a.initializeApp({apiKey:"AIzaSyCmVSirreqo2Yg5J0DILaNDeS_nmHVlM4g",authDomain:"mestos-2f5b4.firebaseapp.com",projectId:"mestos-2f5b4",storageBucket:"mestos-2f5b4.appspot.com",messagingSenderId:"705771100749",appId:"1:705771100749:web:3e88e7fbe7cb2710951a04",measurementId:"G-VL1H3VE362"}),d.a.analytics();var j=d.a.firestore(),m=d.a.storage(),f={signUp:function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.auth().createUserWithEmailAndPassword(t,a).catch((function(e){return e}));case 2:if(!(n=e.sent).user){e.next=5;break}return e.abrupt("return",n.user.uid);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),signIn:function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.auth().signInWithEmailAndPassword(t,a).catch((function(e){return e}));case 2:if(!(n=e.sent).user){e.next=5;break}return e.abrupt("return",n.user.uid);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),logOut:function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.auth().signOut();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),emailVerefication:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=d.a.auth().currentUser)){e.next=5;break}return e.next=4,t.sendEmailVerification();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},p={initializeUser:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var a=d.a.auth().onAuthStateChanged((function(t){e(t),a()}))}));case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t.uid);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setUser:function(){var e=Object(l.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,j.collection("users").doc(n).set({nameAndLastName:t,profession:a,galleryCards:[],avatar:null===(r=d.a.auth().currentUser)||void 0===r?void 0:r.photoURL});case 3:return e.abrupt("return",e.sent);case 4:case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("users").doc(t).get();case 2:return a=e.sent,e.abrupt("return",a.data());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},b={setGalleryCard:function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.a.auth().currentUser.uid,r=m.ref().child("users").child(n).child(t.name),e.next=4,r.put(t);case 4:return e.next=6,r.getDownloadURL();case 6:return s=e.sent,j.collection("users").doc(n).update({galleryCards:d.a.firestore.FieldValue.arrayUnion({name:a,src:s,isLiked:!1})}),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),updateIsLiked:function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n,r,s,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null===(n=d.a.auth().currentUser)||void 0===n?void 0:n.uid,e.next=3,j.collection("users").doc(s).get();case 3:return c=e.sent,e.next=6,null===(r=c.data())||void 0===r?void 0:r.galleryCards;case 6:return o=e.sent,l=o.findIndex((function(e){return e.name===a})),o[l].isLiked=t,j.collection("users").doc(s).update({galleryCards:o}),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteGalleryCard:function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n,r,s,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.a.auth().currentUser.uid,e.next=3,j.collection("users").doc(r).get();case 3:return s=e.sent,e.next=6,null===(n=s.data())||void 0===n?void 0:n.galleryCards;case 6:return c=e.sent,o=c.filter((function(e){return e.name!==t})),l=m.refFromURL(a),e.next=11,l.delete();case 11:return j.collection("users").doc(r).update({galleryCards:o}),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},h={updatePersonalInformation:function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null===(n=d.a.auth().currentUser)||void 0===n?void 0:n.uid,e.abrupt("return",j.collection("users").doc(r).update({nameAndLastName:t,profession:a}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),updateAvatar:function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.a.auth().currentUser.uid,n=m.ref().child("users").child(a).child(t.name),e.next=4,n.put(t);case 4:return e.next=6,n.getDownloadURL();case 6:return r=e.sent,j.collection("users").doc(a).update({avatar:r}),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=a(64),x={galleryCards:[],personalInformation:{nameAndLastName:"You are not authorized",profession:"Here will be your profession"},avatar:""},v=function(e){return{type:"mainContent/setGalleryCard",card:e}},g=function(e){return{type:"mainContent/setNewGalleryCards",cards:e}},C=function(e,t){return{type:"mainContent/setPersonalInformation",nameAndLastName:e,profession:t}},_=function(){return{type:"mainContent/setLogOut"}},y=function(e){return{type:"mainContent/updateAvatar",newAvatar:e}},A={isAuthorized:!1,errors:{email:"",password:""}},I={setIsAuthorized:function(e){return{type:"login/setIsAuthorized",boolean:e}},setError:function(e){return{type:"login/setError",error:e}},clearErrors:function(){return{type:"login/clearErrors"}}},w=a(15),k=a(145),N=a(151),L=a(142),S=a(149),G=a(152),E=function(e,t,a){var r=Object(n.useRef)(!1);Object(n.useEffect)((function(){r.current?e&&t():r.current=!0}),[a])},U=a(11),z=a.n(U),B=a(3),M=function(e){var t=e.signUp,a=e.closeModal,r=e.errors,s=e.clearErrors,c=Object(n.useState)(""),o=Object(w.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(!1),d=Object(w.a)(u,2),j=d[0],m=d[1],f=Object(n.useState)(""),p=Object(w.a)(f,2),b=p[0],h=p[1],O=Object(n.useState)(!1),x=Object(w.a)(O,2),v=x[0],g=x[1],C=Object(n.useState)(""),_=Object(w.a)(C,2),y=_[0],A=_[1],I=Object(n.useState)(""),U=Object(w.a)(I,2),M=U[0],W=U[1],V=Object(n.useState)(!1),P=Object(w.a)(V,2),R=P[0],Y=P[1],D=function(){a(),s(),l(""),h(""),A(""),W("")},T=0===r.email.length&&0===r.password.length;return E(T,D,r),Object(B.jsx)(N.a,{className:z.a.modalContainer,onClose:D,open:!0,children:Object(B.jsx)(L.a,{className:z.a.gridContainer,container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(B.jsxs)("div",{className:z.a.modal,children:[Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)("h2",{className:z.a.sign,children:"sign up"})}),Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)(S.a,{error:j,fullWidth:!0,label:"name and last name",value:i,onChange:function(e){return l(e.target.value)}})}),Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)(S.a,{error:v,fullWidth:!0,label:"profession",value:b,onChange:function(e){return h(e.target.value)}})}),Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)(S.a,{error:0!==r.email.length,helperText:r.email,fullWidth:!0,type:"email",label:"email",value:y,onChange:function(e){return A(e.target.value)}})}),Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)(S.a,{error:0!==r.password.length,helperText:r.password,fullWidth:!0,type:"password",label:"password",value:M,onChange:function(e){return W(e.target.value)}})}),Object(B.jsx)(L.a,{item:!0,children:Object(B.jsxs)("div",{className:z.a.emailVerefication,children:[Object(B.jsx)(G.a,{className:z.a.emailVereficationCheckbox,onClick:function(){return Y(!R)},checked:R}),Object(B.jsx)("p",{className:z.a.confirmEmailSign,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u043e\u0447\u0442\u0443"})]})}),Object(B.jsx)(L.a,{className:z.a.buttonContainer,item:!0,children:Object(B.jsx)(k.a,{fullWidth:!0,className:z.a.saveButton,onClick:function(){0===i.length?m(!0):m(!1),0===b.length?g(!0):g(!1),i.length&&0!==b.length&&t(i,b,y,M,R)},variant:"contained",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})})},W=function(e){var t=e.signIn,a=e.closeModal,r=e.errors,s=e.clearErrors,c=Object(n.useState)(""),o=Object(w.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(""),d=Object(w.a)(u,2),j=d[0],m=d[1],f=function(){a(),s(),l(""),m("")},p=0===r.email.length&&0===r.password.length;return E(p,f,r),Object(B.jsx)(N.a,{className:z.a.modalContainer,onClose:f,open:!0,children:Object(B.jsx)(L.a,{className:z.a.gridContainer,container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(B.jsxs)("div",{className:z.a.modal,children:[Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)("h2",{className:z.a.sign,children:"sign in"})}),Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)(S.a,{error:0!==r.email.length,helperText:r.email,fullWidth:!0,label:"email",type:"email",value:i,onChange:function(e){return l(e.target.value)}})}),Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)(S.a,{error:0!==r.password.length,helperText:r.password,fullWidth:!0,label:"password",type:"password",value:j,onChange:function(e){return m(e.target.value)}})}),Object(B.jsx)(L.a,{className:z.a.buttonContainer,item:!0,children:Object(B.jsx)(k.a,{fullWidth:!0,className:z.a.saveButton,onClick:function(){t(i,j)},variant:"contained",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})})},V=a(35),P=a.n(V),R=function(e){var t=e.clearErrors,a=e.errors,r=e.isAuthorized,s=e.signUp,c=e.signIn,o=e.logOut,i=Object(n.useState)(!1),l=Object(w.a)(i,2),u=l[0],d=l[1],j=Object(n.useState)(!1),m=Object(w.a)(j,2),f=m[0],p=m[1];return Object(B.jsxs)("header",{children:[u&&Object(B.jsx)(M,{clearErrors:t,errors:a,signUp:s,closeModal:function(){return d(!1)}}),f&&Object(B.jsx)(W,{clearErrors:t,errors:a,signIn:c,closeModal:function(){return p(!1)}}),Object(B.jsxs)("div",{className:P.a.header,children:[Object(B.jsxs)("div",{className:P.a.logo,children:[Object(B.jsx)("h2",{className:P.a.mestos,children:"Mestos"}),Object(B.jsx)("p",{className:P.a.russia,children:"Russia"})]}),Object(B.jsx)("div",{children:r?Object(B.jsx)("p",{className:P.a.logOut,onClick:o,children:"log out"}):Object(B.jsxs)("div",{className:P.a.buttons,children:[Object(B.jsx)(k.a,{className:P.a.button,onClick:function(){return d(!0)},children:"Log up"}),Object(B.jsx)(k.a,{className:P.a.button,onClick:function(){return p(!0)},children:"Log in"})]})})]}),Object(B.jsx)("hr",{})]})},Y=Object(c.b)((function(e){return{isAuthorized:e.login.isAuthorized,errors:e.login.errors}}),{clearErrors:I.clearErrors,signUp:function(e,t,a,n,r){return function(){var s=Object(l.a)(i.a.mark((function s(c){var o;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,f.signUp(a,n);case 2:if("string"!==typeof(o=s.sent)){s.next=14;break}return s.next=6,p.setUser(e,t,o);case 6:if(c(I.clearErrors()),c(C(e,t)),c(I.setIsAuthorized(!0)),!r){s.next=12;break}return s.next=12,f.emailVerefication();case 12:s.next=15;break;case 14:"undefined"!==o&&c(I.setError(o));case 15:case 16:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()},signIn:function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n){var r,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.signIn(e,t);case 2:if("string"!==typeof(r=a.sent)){a.next=11;break}return a.next=6,p.getUser(r);case 6:void 0!==(s=a.sent)&&(n(I.clearErrors()),n(C(s.nameAndLastName,s.profession)),n(y(s.avatar)),n(v(s.galleryCards)),n(I.setIsAuthorized(!0))),a.next=12;break;case 11:"undefined"!==typeof r&&n(I.setError(r));case 12:case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.logOut();case 2:t(I.setIsAuthorized(!1)),t(_());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(R),D=a(81),T=a.n(D),F=a(146),Q=a(147),q=a(148),H=a(84),J=a.n(H),X=a(83),K=a.n(X),Z=a(40),$=a.n(Z),ee=a(82),te=a.n(ee),ae=function(e){var t=e.src,a=e.name,n=e.isLiked,r=e.updateIsLiked,s=e.deleteGalleryCard,c=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(!n,a);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsx)(L.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:Object(B.jsxs)(F.a,{children:[Object(B.jsx)(Q.a,{className:$.a.cardImg,image:t}),Object(B.jsxs)(q.a,{className:$.a.content,children:[Object(B.jsx)(te.a,{className:$.a.trash,onClick:function(){return s(a,t)}}),Object(B.jsx)("p",{className:$.a.name,children:a}),Object(B.jsx)(G.a,{checked:n,onClick:c,className:$.a.like,checkedIcon:Object(B.jsx)(K.a,{className:$.a.checked}),icon:Object(B.jsx)(J.a,{className:$.a.unchecked})})]})]})})},ne=function(e){var t=e.deleteGalleryCard,a=e.galleryCards,n=e.updateIsLiked,r=a.map((function(e){return Object(B.jsx)(ae,{deleteGalleryCard:t,updateIsLiked:n,name:e.name,src:e.src,isLiked:e.isLiked},e.name)}));return Object(B.jsx)("div",{className:T.a.galleryContainer,children:Object(B.jsx)(L.a,{container:!0,spacing:1,children:r})})},re=a(154),se=a.p+"static/media/editButton.af236f6c.svg",ce=a(28),oe=a.n(ce),ie=function(e){var t=e.closeModal,a=e.updatePersonalInformation,r=e.personalInformation,s=Object(n.useState)(r.nameAndLastName),c=Object(w.a)(s,2),o=c[0],i=c[1],l=Object(n.useState)(r.profession),u=Object(w.a)(l,2),d=u[0],j=u[1],m=o.length>=28||0===o.length,f=d.length>=30||0===d.length;return Object(B.jsx)("div",{children:Object(B.jsx)(N.a,{className:"".concat(z.a.modalContainer," ").concat(z.a.personalInformationModal),onClose:function(){t(),i(""),j("")},open:!0,children:Object(B.jsx)(L.a,{className:z.a.gridContainer,container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(B.jsxs)("div",{className:z.a.modal,children:[Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)("h2",{className:"".concat(z.a.sign," ").concat(z.a.personalInformationSign),children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)(S.a,{error:m,fullWidth:!0,label:"name and last name",value:o,onChange:function(e){return i(e.target.value)}})}),Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)(S.a,{error:f,fullWidth:!0,label:"profession",value:d,onChange:function(e){return j(e.target.value)}})}),Object(B.jsx)(L.a,{className:z.a.buttonContainer,item:!0,children:Object(B.jsx)(k.a,{disabled:m||f,fullWidth:!0,className:z.a.saveButton,onClick:function(){return function(e,n){a(e,n),t()}(o,d)},variant:"contained",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})})})},le=function(e){var t=e.addGalleryCard,a=e.closeModal,r=Object(n.useState)({}),s=Object(w.a)(r,2),c=s[0],o=s[1],i=Object(n.useState)(""),l=Object(w.a)(i,2),u=l[0],d=l[1];return Object(B.jsx)(N.a,{className:"".concat(z.a.modalContainer," ").concat(z.a.addGalleryCardModal),onClose:function(){a(),o({}),d("")},open:!0,children:Object(B.jsx)(L.a,{className:z.a.gridContainer,container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(B.jsxs)("div",{className:z.a.modal,children:[Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)("h2",{className:z.a.sign,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u0432 \u0433\u0430\u043b\u043b\u0435\u0440\u0435\u044e"})}),Object(B.jsxs)(L.a,{item:!0,children:[Object(B.jsxs)(k.a,{fullWidth:!0,component:"label",variant:"contained",children:["\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e ",Object(B.jsx)("input",{type:"file",onChange:function(e){null!==e.target.files&&o(e.target.files[0])},hidden:!0})]}),Object(B.jsx)("div",{children:c.name})]}),Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)(S.a,{error:u.length>=16,inputProps:{maxLength:16},fullWidth:!0,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:u,onChange:function(e){return d(e.target.value)}})}),Object(B.jsx)(L.a,{className:z.a.buttonContainer,item:!0,children:Object(B.jsx)(k.a,{disabled:0===u.length||u.length>=16||!c.name,fullWidth:!0,className:z.a.saveButton,onClick:function(){t(c,u),a()},variant:"contained",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})})},ue=function(e){var t=e.closeModal,a=e.updateAvatar,r=Object(n.useState)({}),s=Object(w.a)(r,2),c=s[0],o=s[1];return Object(B.jsx)(N.a,{className:z.a.modalContainer,onClose:function(){o({}),t()},open:!0,children:Object(B.jsx)(L.a,{className:z.a.gridContainer,container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:Object(B.jsxs)("div",{className:z.a.modal,children:[Object(B.jsx)(L.a,{item:!0,children:Object(B.jsx)("h2",{className:z.a.sign,children:"Choose new avatar"})}),Object(B.jsxs)(L.a,{item:!0,children:[Object(B.jsxs)(k.a,{fullWidth:!0,component:"label",variant:"contained",children:["Choose new avatar ",Object(B.jsx)("input",{type:"file",onChange:function(e){null!==e.target.files&&o(e.target.files[0])},hidden:!0})]}),Object(B.jsx)("div",{children:c.name})]}),Object(B.jsx)(L.a,{className:z.a.buttonContainer,item:!0,children:Object(B.jsx)(k.a,{fullWidth:!0,className:z.a.saveButton,onClick:function(){a(c),t()},variant:"contained",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})})},de=function(e){var t=e.avatar,a=e.updateAvatar,r=e.addGalleryCard,s=e.updatePersonalInformation,c=e.personalInformation,o=e.isAuthorized,i=Object(n.useState)(!1),l=Object(w.a)(i,2),u=l[0],d=l[1],j=Object(n.useState)(!1),m=Object(w.a)(j,2),f=m[0],p=m[1],b=Object(n.useState)(!1),h=Object(w.a)(b,2),O=h[0],x=h[1];return Object(B.jsxs)("div",{className:oe.a.personalInformationContainer,children:[u&&Object(B.jsx)(ie,{updatePersonalInformation:s,personalInformation:c,closeModal:function(){return d(!1)}}),f&&Object(B.jsx)(le,{addGalleryCard:r,closeModal:function(){return p(!1)}}),O&&Object(B.jsx)(ue,{closeModal:function(){return x(!1)},updateAvatar:a}),Object(B.jsx)(k.a,{className:oe.a.avatarContainer,disabled:!o,children:Object(B.jsx)(re.a,{onClick:function(){return x(!0)},className:oe.a.avatar,src:t})}),Object(B.jsxs)("div",{className:oe.a.mainInformationAndAddButtonContainer,children:[Object(B.jsxs)("div",{className:oe.a.mainInformation,children:[Object(B.jsxs)("div",{className:oe.a.nameContainer,children:[Object(B.jsx)("p",{className:oe.a.name,children:c.nameAndLastName}),Object(B.jsx)(k.a,{onClick:function(){return d(!0)},className:oe.a.button,disabled:!o,children:Object(B.jsx)("img",{className:oe.a.editButton,src:se,alt:"edit button"})})]}),Object(B.jsx)("p",{className:oe.a.profession,children:c.profession})]}),Object(B.jsx)("div",{className:oe.a.addButtonContainer,children:Object(B.jsx)(k.a,{onClick:function(){return p(!0)},className:oe.a.addGalleryCardContainer,disabled:!o,children:Object(B.jsx)("img",{className:oe.a.addGalleryCard,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABYSURBVHgB7ZTBCQAhDARzx/VzlqAlWYmt2dGah6A/F1E/ZmAhj+w8RCJCAMCj4ZnOK5swsYkPij/yw//d7LQzLDxgtibY9xSaQOw5Tapz1GRZgR0hE98qLoUTKea0/ImAAAAAAElFTkSuQmCC",alt:"add button"})})})]})]})},je=function(e){var t=e.deleteGalleryCard,a=e.updateAvatar,n=e.galleryCards,r=e.isAuthorized,s=e.avatar,c=e.addGalleryCard,o=e.updateIsLiked,i=e.personalInformation,l=e.updatePersonalInformation;return Object(B.jsxs)("div",{children:[Object(B.jsx)(de,{avatar:s,updateAvatar:a,updatePersonalInformation:l,isAuthorized:r,personalInformation:i,addGalleryCard:c}),Object(B.jsx)(ne,{deleteGalleryCard:t,updateIsLiked:o,galleryCards:n})]})},me=Object(c.b)((function(e){return{galleryCards:e.mainContent.galleryCards,personalInformation:e.mainContent.personalInformation,avatar:e.mainContent.avatar,isAuthorized:e.login.isAuthorized}}),{deleteGalleryCard:function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.deleteGalleryCard(e,t);case 2:r=a.sent,n(g(r));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},updateAvatar:function(e){return function(){var t=Object(l.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.updateAvatar(e);case 2:n=t.sent,a(y(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateIsLiked:function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.updateIsLiked(e,t);case 2:r=a.sent,n(g(r));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},addGalleryCard:function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.setGalleryCard(e,t);case 2:r=a.sent,n(v([{src:r,name:t,isLiked:!1}]));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},updatePersonalInformation:function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(n){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.updatePersonalInformation(e,t);case 2:n(C(e,t));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(je),fe=a(150);var pe=function(e){var t=e.initializeUser;return Object(n.useEffect)((function(){t()}),[]),Object(B.jsx)(fe.b,{injectFirst:!0,children:Object(B.jsx)("div",{className:"app",children:Object(B.jsxs)("div",{className:"wrapper",children:[Object(B.jsx)(Y,{}),Object(B.jsx)(me,{})]})})})},be=Object(c.b)((function(e){return{}}),{initializeUser:function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.initializeUser();case 2:if(!(a=e.sent)){e.next=9;break}return e.next=6,p.getUser(a);case 6:(n=e.sent)&&(t(C(n.nameAndLastName,n.profession)),t(y(n.avatar)),t(v(n.galleryCards)),t(I.setIsAuthorized(!0)));case 9:case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(pe),he=a(65),Oe=a(85),xe=Object(he.b)({mainContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"mainContent/setGalleryCard":return Object(u.a)(Object(u.a)({},e),{},{galleryCards:[].concat(Object(O.a)(e.galleryCards),Object(O.a)(t.card))});case"mainContent/setNewGalleryCards":return Object(u.a)(Object(u.a)({},e),{},{galleryCards:Object(O.a)(t.cards)});case"mainContent/setPersonalInformation":return Object(u.a)(Object(u.a)({},e),{},{personalInformation:{nameAndLastName:t.nameAndLastName,profession:t.profession}});case"mainContent/setLogOut":return Object(u.a)(Object(u.a)({},e),{},{galleryCards:[],personalInformation:{nameAndLastName:"You are not authorized",profession:"Here will be your profession"},avatar:""});case"mainContent/updateAvatar":return Object(u.a)(Object(u.a)({},e),{},{avatar:t.newAvatar});default:return Object(u.a)({},e)}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/setIsAuthorized":return Object(u.a)(Object(u.a)({},e),{},{isAuthorized:t.boolean});case"login/setError":var a=t.error.code;return a.includes("email")?Object(u.a)(Object(u.a)({},e),{},{errors:Object(u.a)(Object(u.a)({},e.errors),{},{email:t.error.message})}):a.includes("password")?Object(u.a)(Object(u.a)({},e),{},{errors:Object(u.a)(Object(u.a)({},e.errors),{},{email:"",password:t.error.message})}):Object(u.a)({},e);case"login/clearErrors":return Object(u.a)(Object(u.a)({},e),{},{errors:{email:"",password:""}});default:return Object(u.a)({},e)}}}),ve=Object(he.c)(xe,Object(he.a)(Oe.a));s.a.render(Object(B.jsx)(c.a,{store:ve,children:Object(B.jsx)(be,{})}),document.getElementById("root"))},11:function(e,t,a){e.exports={gridContainer:"modals_gridContainer__38ML2",modalContainer:"modals_modalContainer__rLQIA",modal:"modals_modal__gAT-W",sign:"modals_sign__3eSQ1",saveButton:"modals_saveButton__pGSpP",buttonContainer:"modals_buttonContainer__2CjMk",emailVerefication:"modals_emailVerefication__2iz3Y",emailVereficationCheckbox:"modals_emailVereficationCheckbox__14MmN",confirmEmailSign:"modals_confirmEmailSign__29dm4",addGalleryCardModal:"modals_addGalleryCardModal__37qdV",personalInformationModal:"modals_personalInformationModal__2XmnG",personalInformationSign:"modals_personalInformationSign__2uGWC"}},28:function(e,t,a){e.exports={avatar:"personalInformation_avatar__1IOPq",avatarContainer:"personalInformation_avatarContainer__2Mz_9",nameContainer:"personalInformation_nameContainer__3UNig",personalInformationContainer:"personalInformation_personalInformationContainer__B6q3e",name:"personalInformation_name__39_XT",profession:"personalInformation_profession__3173H",button:"personalInformation_button__SCt88",addGalleryCardContainer:"personalInformation_addGalleryCardContainer__g5Xak",editButton:"personalInformation_editButton__NMHJF",mainInformationAndAddButtonContainer:"personalInformation_mainInformationAndAddButtonContainer__37bGM",mainInformation:"personalInformation_mainInformation__3sLIy"}},35:function(e,t,a){e.exports={header:"header_header__4gg0a",logo:"header_logo__2K_BC",mestos:"header_mestos__19D_f",russia:"header_russia__14FvB",logOut:"header_logOut__234dc",buttons:"header_buttons__3F7Bv",button:"header_button__GL6lq"}},40:function(e,t,a){e.exports={like:"galleryCard_like__2kOAE",checked:"galleryCard_checked__2VcNi",unchecked:"galleryCard_unchecked__3iFqn",cardImg:"galleryCard_cardImg__2c0u7",name:"galleryCard_name__1-D7D",content:"galleryCard_content__1jmcp",trash:"galleryCard_trash__1ApPZ"}},81:function(e,t,a){e.exports={galleryContainer:"gallery_galleryContainer__3bkJl"}},97:function(e,t,a){}},[[108,1,2]]]);
//# sourceMappingURL=main.49225316.chunk.js.map