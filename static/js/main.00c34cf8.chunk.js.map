{"version":3,"sources":["api/api.ts","redux/mainContentReducer.ts","redux/loginReducer.ts","assets/hoc/useClose.ts","components/modals/RegistrationModal.tsx","components/modals/LoginModal.tsx","components/header/Header.tsx","components/header/HeaderContainer.tsx","components/mainContent/gallery/galleryCard/GalleryCard.tsx","components/mainContent/gallery/Gallery.tsx","assets/img/editButton.svg","components/modals/PersonalInformationModal.tsx","components/modals/AddGalleryCardModal.tsx","components/modals/UpdateAvatarModal.tsx","components/mainContent/personInformation/PersonInformation.tsx","assets/img/addButton.png","components/mainContent/MainContent.tsx","components/mainContent/MainContentContainer.ts","App.tsx","AppContainer.tsx","redux/store.ts","index.tsx","components/modals/modals.module.css","components/mainContent/personInformation/personalInformation.module.css","components/header/header.module.css","components/mainContent/gallery/galleryCard/galleryCard.module.css","components/mainContent/gallery/gallery.module.css"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","fs","firestore","storage","loginAPI","signUp","email","password","a","auth","createUserWithEmailAndPassword","catch","error","response","user","uid","signIn","signInWithEmailAndPassword","logOut","signOut","emailVerefication","userCredential","currentUser","sendEmailVerification","userAPI","initializeUser","Promise","resolve","reject","unsubscribe","onAuthStateChanged","uc","setUser","nameAndLastName","profession","id","collection","doc","set","galleryCards","avatar","photoURL","getUser","get","data","galleryCardsAPI","setGalleryCard","img","name","userId","imgRef","ref","child","put","getDownloadURL","imgUrl","update","FieldValue","arrayUnion","src","isLiked","updateIsLiked","userDoc","currentCardIndex","findIndex","c","deleteGalleryCard","filtredGalleryCards","filter","refFromURL","delete","personalInformationAPI","updatePersonalInformation","updateAvatar","avatarRef","avatarUrl","initialState","personalInformation","mainContentActions","card","type","cards","newAvatar","isAuthorized","errors","loginActions","setIsAuthorized","boolean","setError","clearErrors","useClose","isClose","closeFunction","dependencies","isMounted","useRef","useEffect","current","RegistrationModal","closeModal","useState","setNameAndLastName","isNameAndLastNameError","setIsNameAndLastNameError","setProfession","isProfessionError","setIsProfessionError","setEmail","setPassword","isGetEmailVerefication","setIsGetEmailVerefication","onCloseModal","length","Modal","className","modalContainer","onClose","open","Grid","gridContainer","container","direction","justifyContent","alignItems","modal","item","sign","TextField","fullWidth","label","value","onChange","e","target","helperText","Checkbox","emailVereficationCheckbox","onClick","checked","confirmEmailSign","buttonContainer","Button","saveButton","variant","LoginModal","Header","isRegistrationModalOpen","setIsRegistrationModalOpen","isLoginModalOpen","setIsLoginModalOpen","header","logo","mestos","russia","buttons","button","HeaderContainer","connect","state","login","dispatch","undefined","userInformation","GalleryCard","onLikeClick","xs","sm","md","CardMedia","cardImg","image","CardContent","content","trash","like","checkedIcon","icon","unchecked","Gallery","Card","map","galleryContainer","spacing","PersonalInformationWindow","isNameAndLastNameFieldError","isProfessionFieldError","personalInformationModal","personalInformationSign","disabled","onSaveButtonClick","AddGalleryCardModal","addGalleryCard","setImg","setName","addGalleryCardModal","component","files","hidden","inputProps","maxLength","UpdateAvatarModal","setAvatar","PersonalInformation","isPersonalInformationModalOpen","setIsPersonalInformationModalOpen","isAddGalleryCardModalOpen","setIsAddGalleryCardModalOpen","isUpdateAvatarOpen","setIsUpdateAvatarOpen","personalInformationContainer","PersonalInformationModal","avatarContainer","Avatar","mainInformationAndAddButtonContainer","mainInformation","nameContainer","editButton","alt","addButtonContainer","addGalleryCardContainer","MainContent","MainContentContainer","mainContent","newGalleryCards","App","StylesProvider","injectFirst","AppContainer","reducers","combineReducers","action","errorCode","code","includes","message","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById","module","exports"],"mappings":"wPAkBAA,IAASC,cAVY,CACjBC,OAAQ,0CACRC,WAAY,+BACZC,UAAW,eACXC,cAAe,2BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAInBR,IAASS,YAET,IAAIC,EAAKV,IAASW,YACdC,EAAUZ,IAASY,UAEZC,EAAW,CAClBC,OAAO,WAAD,4BAAE,WAAOC,EAAeC,GAAtB,eAAAC,EAAA,sEACiBjB,IAASkB,OAAOC,+BAA+BJ,EAAOC,GAC1EI,OAAM,SAAAC,GAAK,OAAIA,KAFZ,YACAC,EADA,QAGSC,KAHT,yCAGsBD,EAASC,KAAKC,KAHpC,gCAIGF,GAJH,2CAAF,qDAAC,GAMPG,OAAO,WAAD,4BAAE,WAAOV,EAAeC,GAAtB,eAAAC,EAAA,sEACiBjB,IAASkB,OAAOQ,2BAA2BX,EAAOC,GACtEI,OAAM,SAAAC,GAAK,OAAIA,KAFZ,YACAC,EADA,QAGSC,KAHT,yCAGsBD,EAASC,KAAKC,KAHpC,gCAIGF,GAJH,2CAAF,qDAAC,GAMPK,OAAO,WAAD,4BAAE,sBAAAV,EAAA,sEACSjB,IAASkB,OAAOU,UADzB,mFAAF,kDAAC,GAGPC,kBAAkB,WAAD,4BAAE,4BAAAZ,EAAA,2DACXa,EAAiB9B,IAASkB,OAAOa,aADtB,gCAGED,EAAeE,wBAHjB,mFAAF,kDAAC,IAQXC,EAAU,CACjBC,eAAe,WAAD,4BAAE,4BAAAjB,EAAA,sEAC4B,IAAIkB,SAAQ,SAACC,EAASC,GAC1D,IAAIC,EAActC,IAASkB,OAAOqB,oBAAmB,SAAAC,GACjDJ,EAAQI,GACRF,UAJI,YACRR,EADQ,iDAOeA,EAAeN,KAP9B,gCAQLM,GARK,2CAAF,kDAAC,GAUfW,QAAQ,WAAD,4BAAE,WAAOC,EAAyBC,EAAoBC,GAApD,eAAA3B,EAAA,0DACD2B,EADC,gCAEYlC,EAAGmC,WAAW,SAASC,IAAIF,GAAIG,IAAI,CAC5CL,kBACAC,aACAK,aAAc,GACdC,OAAM,UAAEjD,IAASkB,OAAOa,mBAAlB,aAAE,EAA6BmB,WANxC,0FAAF,uDAAC,GAURC,QAAQ,WAAD,4BAAE,WAAOP,GAAP,eAAA3B,EAAA,sEACWP,EAAGmC,WAAW,SAASC,IAAIF,GAAIQ,MAD1C,cACDN,EADC,yBAEEA,EAAIO,QAFN,2CAAF,mDAAC,IAMDC,EAAkB,CACzBC,eAAe,WAAD,4BAAE,WAAOC,EAAWC,GAAlB,mBAAAxC,EAAA,6DAERyC,EAAS1D,IAASkB,OAAOa,YAAaP,IACtCmC,EAAS/C,EAAQgD,MAAMC,MAAM,SAASA,MAAMH,GAAQG,MAAML,EAAIC,MAHtD,SAINE,EAAOG,IAAIN,GAJL,uBAKOG,EAAOI,iBALd,cAKRC,EALQ,OAMZtD,EAAGmC,WAAW,SAASC,IAAIY,GAAQO,OAAO,CACtCjB,aAAchD,IAASW,UAAUuD,WAAWC,WAAW,CACnDV,OACAW,IAAKJ,EACLK,SAAS,MAVL,kBAaLL,GAbK,2CAAF,qDAAC,GAefM,cAAc,WAAD,4BAAE,WAAOD,EAAkBZ,GAAzB,yBAAAxC,EAAA,6DAEPyC,EAFO,UAEE1D,IAASkB,OAAOa,mBAFlB,aAEE,EAA6BP,IAF/B,SAGSd,EAAGmC,WAAW,SAASC,IAAIY,GAAQN,MAH5C,cAGPmB,EAHO,0BAIsCA,EAAQlB,cAJ9C,aAIsC,EAAgBL,aAJtD,cAIPA,EAJO,OAKPwB,EAAmBxB,EAAayB,WAAU,SAAAC,GAAC,OAAIA,EAAEjB,OAASA,KAC9DT,EAAawB,GAAkBH,QAAUA,EACzC3D,EAAGmC,WAAW,SAASC,IAAIY,GAAQO,OAAO,CACtCjB,iBARO,kBAUJA,GAVI,4CAAF,qDAAC,GAYd2B,kBAAkB,WAAD,4BAAE,WAAOlB,EAAcD,GAArB,yBAAAvC,EAAA,6DAEXyC,EAAS1D,IAASkB,OAAOa,YAAaP,IAF3B,SAGKd,EAAGmC,WAAW,SAASC,IAAIY,GAAQN,MAHxC,cAGXmB,EAHW,0BAIkCA,EAAQlB,cAJ1C,aAIkC,EAAgBL,aAJlD,cAIXA,EAJW,OAKX4B,EAAsB5B,EAAa6B,QAAO,SAAAH,GAAC,OAAIA,EAAEjB,OAASA,KAC1DE,EAAS/C,EAAQkE,WAAWtB,GANjB,UAOTG,EAAOoB,SAPE,eAQfrE,EAAGmC,WAAW,SAASC,IAAIY,GAAQO,OAAO,CACtCjB,aAAc4B,IATH,kBAWRA,GAXQ,4CAAF,qDAAC,IAeXI,EAAyB,CAChCC,0BAA0B,WAAD,4BAAE,WAAOvC,EAAyBC,GAAhC,iBAAA1B,EAAA,6DACnByC,EADmB,UACV1D,IAASkB,OAAOa,mBADN,aACV,EAA6BP,IADnB,kBAEhBd,EAAGmC,WAAW,SAASC,IAAIY,GAAQO,OAAO,CAC7CvB,kBACAC,gBAJmB,2CAAF,qDAAC,GAO1BuC,aAAa,WAAD,4BAAE,WAAOjC,GAAP,mBAAAhC,EAAA,6DAENyC,EAAS1D,IAASkB,OAAOa,YAAaP,IACtC2D,EAAYvE,EAAQgD,MAAMC,MAAM,SAASA,MAAMH,GAAQG,MAAMZ,EAAOQ,MAH9D,SAIJ0B,EAAUrB,IAAIb,GAJV,uBAKoBkC,EAAUpB,iBAL9B,cAKNqB,EALM,OAMV1E,EAAGmC,WAAW,SAASC,IAAIY,GAAQO,OAAO,CACtChB,OAAQmC,IAPF,kBASHA,GATG,2CAAF,mDAAC,I,QC/GbC,EAAe,CACfrC,aAAc,GACdsC,oBAAqB,CACjB5C,gBAAiB,yBACjBC,WAAY,gCAEhBM,OAAQ,IA8CDsC,EACS,SAACC,GAAD,MAAmC,CAAEC,KAAM,6BAA8BD,SADlFD,EAEa,SAACG,GAAD,MAAoC,CAACD,KAAM,iCAAkCC,UAF1FH,EAGiB,SAAC7C,EAAyBC,GAA1B,MAAkD,CAAE8C,KAAM,qCAAsC/C,kBAAiBC,eAHlI4C,EAII,iBAAO,CAAEE,KAAM,0BAJnBF,EAKO,SAACI,GAAD,MAAwB,CAAEF,KAAM,2BAA4BE,cCnE1EN,EAAe,CACfO,cAAc,EACdC,OAAQ,CACJ9E,MAAO,GACPC,SAAU,KA6BP8E,EAAe,CACtBC,gBAAiB,SAACC,GAAD,MAAuB,CAAEP,KAAM,wBAAyBO,YACzEC,SAAU,SAAC5E,GAAD,MAA2B,CAAEoE,KAAM,iBAAkBpE,UAC/D6E,YAAa,iBAAO,CAAET,KAAM,uB,qDCvCrBU,EAAW,SAACC,EAAkBC,EAAyBC,GAC9D,IAAIC,EAAYC,kBAAO,GACvBC,qBAAU,WACDF,EAAUG,QAGXN,GAAWC,IAFXE,EAAUG,SAAU,IAKzB,CAACJ,K,wBC+FOK,EA7FS,SAAC,GAAsD,IAArD7F,EAAoD,EAApDA,OAAQ8F,EAA4C,EAA5CA,WAAYf,EAAgC,EAAhCA,OAAQK,EAAwB,EAAxBA,YAClD,EAA4CW,mBAAS,IAArD,mBAAKnE,EAAL,KAAsBoE,EAAtB,KACA,EAA0DD,oBAAS,GAAnE,mBAAKE,EAAL,KAA6BC,EAA7B,KACA,EAAkCH,mBAAS,IAA3C,mBAAKlE,EAAL,KAAiBsE,EAAjB,KACA,EAAgDJ,oBAAS,GAAzD,mBAAKK,EAAL,KAAwBC,EAAxB,KAEA,EAAwBN,mBAAS,IAAjC,mBAAK9F,EAAL,KAAYqG,EAAZ,KACA,EAA8BP,mBAAS,IAAvC,mBAAK7F,EAAL,KAAeqG,EAAf,KAEA,EAA0DR,oBAAS,GAAnE,mBAAKS,EAAL,KAA6BC,EAA7B,KAQIC,EAAe,WACfZ,IACAV,IACAY,EAAmB,IACnBG,EAAc,IACdG,EAAS,IACTC,EAAY,KAGZjB,EAAkC,IAAxBP,EAAO9E,MAAM0G,QAA2C,IAA3B5B,EAAO7E,SAASyG,OAG3D,OAFAtB,EAASC,EAASoB,EAAc3B,GAEzB,cAAC6B,EAAA,EAAD,CAAOC,UAAWjD,IAAEkD,eAAgBC,QAASL,EAAcM,MAAM,EAAjE,SACH,cAACC,EAAA,EAAD,CAAMJ,UAAWjD,IAAEsD,cAAeC,WAAS,EAACC,UAAU,SAASC,eAAe,SAASC,WAAW,SAAlG,SACI,sBAAKT,UAAWjD,IAAE2D,MAAlB,UACI,cAACN,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,oBAAIX,UAAWjD,IAAE6D,KAAjB,uBAEJ,cAACR,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,cAACE,EAAA,EAAD,CACAnH,MAAO0F,EACP0B,WAAW,EACXC,MAAM,qBACNC,MAAOjG,EACPkG,SAAU,SAACC,GAAD,OAAO/B,EAAmB+B,EAAEC,OAAOH,YAGjD,cAACZ,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,cAACE,EAAA,EAAD,CACAnH,MAAO6F,EACPuB,WAAW,EACXC,MAAM,aACNC,MAAOhG,EACPiG,SAAU,SAACC,GAAD,OAAO5B,EAAc4B,EAAEC,OAAOH,YAG5C,cAACZ,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,cAACE,EAAA,EAAD,CACAnH,MAA+B,IAAxBwE,EAAO9E,MAAM0G,OACpBsB,WAAYlD,EAAO9E,MACnB0H,WAAW,EACXhD,KAAK,QACLiD,MAAM,QACNC,MAAO5H,EACP6H,SAAU,SAACC,GAAD,OAAOzB,EAASyB,EAAEC,OAAOH,YAGvC,cAACZ,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,cAACE,EAAA,EAAD,CACAnH,MAAkC,IAA3BwE,EAAO7E,SAASyG,OACvBsB,WAAYlD,EAAO7E,SACnByH,WAAW,EACXhD,KAAK,WACLiD,MAAM,WACNC,MAAO3H,EACP4H,SAAU,SAACC,GAAD,OAAOxB,EAAYwB,EAAEC,OAAOH,YAG1C,cAACZ,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,sBAAKX,UAAWjD,IAAE7C,kBAAlB,UACI,cAACmH,EAAA,EAAD,CAAUrB,UAAWjD,IAAEuE,0BAA2BC,QAAS,kBAAM3B,GAA2BD,IAAyB6B,QAAS7B,IAC9H,mBAAGK,UAAWjD,IAAE0E,iBAAhB,oHAGR,cAACrB,EAAA,EAAD,CAAMJ,UAAWjD,IAAE2E,gBAAiBf,MAAI,EAAxC,SACI,cAACgB,EAAA,EAAD,CACAb,WAAW,EACXd,UAAWjD,IAAE6E,WACbL,QA1ED,WACgB,IAA3BxG,EAAgB+E,OAAeT,GAA0B,GAAQA,GAA0B,GACrE,IAAtBrE,EAAW8E,OAAeN,GAAqB,GAAQA,GAAqB,GAC3EzE,EAAgB+E,QAAgC,IAAtB9E,EAAW8E,QAAiB3G,EAAO4B,EAAiBC,EAAY5B,EAAOC,EAAUsG,IAwEhGkC,QAAQ,YAJR,8ECzBLC,EAzDE,SAAC,GAAsD,IAArDhI,EAAoD,EAApDA,OAAQmF,EAA4C,EAA5CA,WAAYf,EAAgC,EAAhCA,OAAQK,EAAwB,EAAxBA,YAE3C,EAAwBW,mBAAS,IAAjC,mBAAK9F,EAAL,KAAYqG,EAAZ,KACA,EAA8BP,mBAAS,IAAvC,mBAAK7F,EAAL,KAAeqG,EAAf,KAMIG,EAAe,WACfZ,IACAV,IACAkB,EAAS,IACTC,EAAY,KAGZjB,EAAkC,IAAxBP,EAAO9E,MAAM0G,QAA2C,IAA3B5B,EAAO7E,SAASyG,OAG3D,OAFAtB,EAASC,EAASoB,EAAc3B,GAEzB,cAAC6B,EAAA,EAAD,CAAOC,UAAWjD,IAAEkD,eAAgBC,QAASL,EAAcM,MAAM,EAAjE,SACH,cAACC,EAAA,EAAD,CAAMJ,UAAWjD,IAAEsD,cAAeC,WAAS,EAACC,UAAU,SAASC,eAAe,SAASC,WAAW,SAAlG,SACI,sBAAKT,UAAWjD,IAAE2D,MAAlB,UACI,cAACN,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,oBAAIX,UAAWjD,IAAE6D,KAAjB,uBAEJ,cAACR,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,cAACE,EAAA,EAAD,CACAnH,MAA+B,IAAxBwE,EAAO9E,MAAM0G,OACpBsB,WAAYlD,EAAO9E,MACnB0H,WAAW,EACXC,MAAM,QACNjD,KAAK,QACLkD,MAAO5H,EACP6H,SAAU,SAACC,GAAD,OAAOzB,EAASyB,EAAEC,OAAOH,YAEvC,cAACZ,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,cAACE,EAAA,EAAD,CACAnH,MAAkC,IAA3BwE,EAAO7E,SAASyG,OACvBsB,WAAYlD,EAAO7E,SACnByH,WAAW,EACXC,MAAM,WACNjD,KAAK,WACLkD,MAAO3H,EACP4H,SAAU,SAACC,GAAD,OAAOxB,EAAYwB,EAAEC,OAAOH,YAE1C,cAACZ,EAAA,EAAD,CAAMJ,UAAWjD,IAAE2E,gBAAiBf,MAAI,EAAxC,SACI,cAACgB,EAAA,EAAD,CACAb,WAAW,EACXd,UAAWjD,IAAE6E,WACbL,QA5CD,WACXzH,EAAOV,EAAOC,IA4CFwI,QAAQ,YAJR,8E,iBCZLE,EA/BF,SAAC,GAAwE,IAAvExD,EAAsE,EAAtEA,YAAaL,EAAyD,EAAzDA,OAAQD,EAAiD,EAAjDA,aAAc9E,EAAmC,EAAnCA,OAAQW,EAA2B,EAA3BA,OAAQE,EAAmB,EAAnBA,OAE9D,EAA4DkF,oBAAS,GAArE,mBAAK8C,EAAL,KAA8BC,EAA9B,KAGA,EAA8C/C,oBAAS,GAAvD,mBAAKgD,EAAL,KAAuBC,EAAvB,KAGA,OACI,mCACKH,GAA2B,cAAC,EAAD,CAAmBzD,YAAaA,EAAaL,OAAQA,EAAQ/E,OAAQA,EAAQ8F,WAPpF,kBAAMgD,GAA2B,MAQrDC,GAAoB,cAAC,EAAD,CAAY3D,YAAaA,EAAaL,OAAQA,EAAQpE,OAAQA,EAAQmF,WAL7E,kBAAMkD,GAAoB,MAMpC,sBAAKnC,UAAWjD,IAAEqF,OAAlB,UACI,sBAAKpC,UAAWjD,IAAEsF,KAAlB,UACI,oBAAIrC,UAAWjD,IAAEuF,OAAjB,oBACA,mBAAGtC,UAAWjD,IAAEwF,OAAhB,uBAEJ,8BACKtE,EAAe,mBAAG+B,UAAWjD,IAAE/C,OAAQuH,QAASvH,EAAjC,qBACZ,sBAAKgG,UAAWjD,IAAEyF,QAAlB,UACI,cAACb,EAAA,EAAD,CAAQ3B,UAAWjD,IAAE0F,OAAQlB,QAAS,kBAAMU,GAA2B,IAAvE,oBACA,cAACN,EAAA,EAAD,CAAQ3B,UAAWjD,IAAE0F,OAAQlB,QAAS,kBAAMY,GAAoB,IAAhE,4BAKpB,2BC5BGO,EAFOC,aAPA,SAACC,GACnB,MAAO,CACH3E,aAAc2E,EAAMC,MAAM5E,aAC1BC,OAAQ0E,EAAMC,MAAM3E,UAImB,CAACK,YAAaJ,EAAaI,YAAapF,OL+CnE,SAAC4B,EAAyBC,EAAoB5B,EAAeC,EAAkBsG,GAA/E,8CAA0H,WAAOmD,GAAP,eAAAxJ,EAAA,sEACrHJ,EAASC,OAAOC,EAAOC,GAD8F,UAElH,kBADpBM,EADsI,yCAGhIW,EAAQQ,QAAQC,EAAiBC,EAAYrB,GAHmF,UAItImJ,EAAS3E,EAAaI,eACtBuE,EAASlF,EAA0C7C,EAAiBC,IACpE8H,EAAS3E,EAAaC,iBAAgB,KAClCuB,EAPkI,kCAOpGzG,EAASgB,oBAP2F,gCAQlH,cAAbP,GACPmJ,EAAS3E,EAAaG,SAAS3E,IATuG,oDAA1H,uDK/C2EG,OL4D3E,SAACV,EAAeC,GAAhB,8CAA4C,WAAOyJ,GAAP,iBAAAxJ,EAAA,sEACvCJ,EAASY,OAAOV,EAAOC,GADgB,UAEpC,kBADpBM,EADwD,yCAG5BW,EAAQkB,QAAQ7B,GAHY,YAIhCoJ,KADpBC,EAHoD,UAKpDF,EAAS3E,EAAaI,eACtBuE,EAASlF,EAA0CoF,EAAgBjI,gBAAiBiI,EAAgBhI,aACpG8H,EAASlF,EAAgCoF,EAAgB1H,SACzDwH,EAASlF,EAAkCoF,EAAgB3H,eAC3DyH,EAAS3E,EAAaC,iBAAgB,KATc,wBAW7B,qBAAbzE,GACdmJ,EAAS3E,EAAaG,SAAS3E,IAZyB,oDAA5C,uDK5DmFK,OL4EnF,yDAAa,WAAO8I,GAAP,SAAAxJ,EAAA,sEACvBJ,EAASc,SADc,OAE7B8I,EAAS3E,EAAaC,iBAAgB,IACtC0E,EAASlF,KAHoB,2CAAb,wDK5EE+E,CAA0FZ,G,mHCoBjGkB,GAlBG,SAAC,GAAmE,IAAlExG,EAAiE,EAAjEA,IAAKX,EAA4D,EAA5DA,KAAMY,EAAsD,EAAtDA,QAASC,EAA6C,EAA7CA,cAAeK,EAA8B,EAA9BA,kBAE/CkG,EAAW,uCAAG,sBAAA5J,EAAA,sDACdqD,GAAeD,EAASZ,GADV,2CAAH,qDAIf,OAAO,cAACsE,EAAA,EAAD,CAAMO,MAAI,EAACwC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAA9B,SACH,eAAC,IAAD,WACI,cAACC,EAAA,EAAD,CAAWtD,UAAWjD,IAAEwG,QAASC,MAAO/G,IACxC,eAACgH,EAAA,EAAD,CAAazD,UAAWjD,IAAE2G,QAA1B,UACI,cAAC,KAAD,CAAY1D,UAAWjD,IAAE4G,MAAOpC,QAAS,kBAAMvE,EAAkBlB,EAAMW,MACvE,mBAAGuD,UAAWjD,IAAEjB,KAAhB,SAAuBA,IACvB,cAACuF,EAAA,EAAD,CAAUG,QAAS9E,EAAS6E,QAAS2B,EAAalD,UAAWjD,IAAE6G,KAAMC,YAAa,cAAC,IAAD,CAAa7D,UAAWjD,IAAEyE,UAAasC,KAAM,cAAC,IAAD,CAAe9D,UAAWjD,IAAEgH,uBCL5JC,GAVD,SAAC,GAA6D,IAA5DhH,EAA2D,EAA3DA,kBAAmB3B,EAAwC,EAAxCA,aAAcsB,EAA0B,EAA1BA,cACzCsH,EAAO5I,EAAa6I,KAAI,SAAAnH,GAAC,OAAI,cAAC,GAAD,CAAaC,kBAAmBA,EAAmBL,cAAeA,EAAeb,KAAMiB,EAAEjB,KAAMW,IAAKM,EAAEN,IAAKC,QAASK,EAAEL,SAAcK,EAAEjB,SAEvK,OAAO,qBAAKkE,UAAWjD,IAAEoH,iBAAlB,SACH,cAAC/D,EAAA,EAAD,CAAME,WAAS,EAAC8D,QAAS,EAAzB,SACKH,O,UChBE,OAA0B,uC,oBCqE1BI,GA1DiB,SAAC,GAA2E,IAAzEpF,EAAwE,EAAxEA,WAAY3B,EAA4D,EAA5DA,0BAA2BK,EAAiC,EAAjCA,oBAEtE,EAA4CuB,mBAASvB,EAAoB5C,iBAAzE,mBAAKA,EAAL,KAAsBoE,EAAtB,KACA,EAAkCD,mBAASvB,EAAoB3C,YAA/D,mBAAKA,EAAL,KAAiBsE,EAAjB,KAaIgF,EAA8BvJ,EAAgB+E,QAAU,IAAiC,IAA3B/E,EAAgB+E,OAC9EyE,EAAyBvJ,EAAW8E,QAAU,IAA4B,IAAtB9E,EAAW8E,OAEnE,OAAO,8BACH,cAACC,EAAA,EAAD,CAAOC,UAAS,UAAKjD,IAAEkD,eAAP,YAAyBlD,IAAEyH,0BAA4BtE,QAVxD,WACfjB,IACAE,EAAmB,IACnBG,EAAc,KAOgFa,MAAM,EAApG,SACI,cAACC,EAAA,EAAD,CAAMJ,UAAWjD,IAAEsD,cAAeC,WAAS,EAACC,UAAU,SAASC,eAAe,SAASC,WAAW,SAAlG,SACI,sBAAKT,UAAWjD,IAAE2D,MAAlB,UACI,cAACN,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,oBAAIX,UAAS,UAAKjD,IAAE6D,KAAP,YAAe7D,IAAE0H,yBAA9B,yIAEJ,cAACrE,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,cAACE,EAAA,EAAD,CACInH,MAAO4K,EACPxD,WAAW,EACXC,MAAM,qBACNC,MAAOjG,EACPkG,SAAU,SAACC,GAAD,OAAO/B,EAAmB+B,EAAEC,OAAOH,YAGrD,cAACZ,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,cAACE,EAAA,EAAD,CACInH,MAAO6K,EACPzD,WAAW,EACXC,MAAM,aACNC,MAAOhG,EACPiG,SAAU,SAACC,GAAD,OAAO5B,EAAc4B,EAAEC,OAAOH,YAGhD,cAACZ,EAAA,EAAD,CAAMJ,UAAWjD,IAAE2E,gBAAiBf,MAAI,EAAxC,SACI,cAACgB,EAAA,EAAD,CACI+C,SAAUJ,GAA+BC,EACzCzD,WAAW,EACXd,UAAWjD,IAAE6E,WACbL,QAAS,kBA5CT,SAACxG,EAAyBC,GAC9CsC,EAA0BvC,EAAiBC,GAC3CiE,IA0CmC0F,CAAkB5J,EAAiBC,IAClD6G,QAAQ,YALZ,gFCJT+C,GA3CW,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,eAAgB5F,EAAwB,EAAxBA,WAEzC,EAAoBC,mBAAe,IAAnC,mBAAKrD,EAAL,KAAUiJ,EAAV,KACA,EAAsB5F,mBAAS,IAA/B,mBAAKpD,EAAL,KAAWiJ,EAAX,KAmBA,OAAO,cAAChF,EAAA,EAAD,CAAOC,UAAS,UAAKjD,IAAEkD,eAAP,YAAyBlD,IAAEiI,qBAAuB9E,QANtD,WACfjB,IACA6F,EAAO,IACPC,EAAQ,KAGoF5E,MAAM,EAA/F,SACH,cAACC,EAAA,EAAD,CAAMJ,UAAWjD,IAAEsD,cAAeC,WAAS,EAACC,UAAU,SAASC,eAAe,SAASC,WAAW,SAAlG,SACI,sBAAKT,UAAWjD,IAAE2D,MAAlB,UACI,cAACN,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,oBAAIX,UAAWjD,IAAE6D,KAAjB,yKAEJ,eAACR,EAAA,EAAD,CAAMO,MAAI,EAAV,UACI,eAACgB,EAAA,EAAD,CAAQb,WAAW,EAAMmE,UAAU,QAAQpD,QAAQ,YAAnD,qHAAkF,uBAAO/D,KAAK,OAAOmD,SAnBjG,SAACC,GACM,OAAnBA,EAAEC,OAAO+D,OACTJ,EAAO5D,EAAEC,OAAO+D,MAAM,KAiBgHC,QAAM,OACpI,8BAAMtJ,EAAIC,UAEd,cAACsE,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,cAACE,EAAA,EAAD,CAAWnH,MAAOoC,EAAKgE,QAAU,GAAIsF,WAAY,CAACC,UAAW,IAAKvE,WAAW,EAAMC,MAAM,mDAAWC,MAAOlF,EAAMmF,SAAU,SAACC,GAAD,OAAO6D,EAAQ7D,EAAEC,OAAOH,YAEvJ,cAACZ,EAAA,EAAD,CAAMJ,UAAWjD,IAAE2E,gBAAiBf,MAAI,EAAxC,SACI,cAACgB,EAAA,EAAD,CAAQ+C,SAA0B,IAAhB5I,EAAKgE,QAAgBhE,EAAKgE,QAAU,KAAOjE,EAAIC,KAAMgF,WAAW,EAAMd,UAAWjD,IAAE6E,WAAYL,QA/BhH,WACbsD,EAAehJ,EAAKC,GACpBmD,KA6BkJ4C,QAAQ,YAA9I,8ECELyD,GAtCS,SAAC,GAAuC,IAAtCrG,EAAqC,EAArCA,WAAY1B,EAAyB,EAAzBA,aAElC,EAA0B2B,mBAAe,IAAzC,mBAAK5D,EAAL,KAAaiK,EAAb,KAkBA,OAAO,cAACxF,EAAA,EAAD,CAAOC,UAAWjD,IAAEkD,eAAgBC,QALxB,WACfqF,EAAU,IACVtG,KAG8DkB,MAAM,EAAjE,SACH,cAACC,EAAA,EAAD,CAAMJ,UAAWjD,IAAEsD,cAAeC,WAAS,EAACC,UAAU,SAASC,eAAe,SAASC,WAAW,SAAlG,SACI,sBAAKT,UAAWjD,IAAE2D,MAAlB,UACI,cAACN,EAAA,EAAD,CAAMO,MAAI,EAAV,SACI,oBAAIX,UAAWjD,IAAE6D,KAAjB,iCAEJ,eAACR,EAAA,EAAD,CAAMO,MAAI,EAAV,UACI,eAACgB,EAAA,EAAD,CAAQb,WAAW,EAAMmE,UAAU,QAAQpD,QAAQ,YAAnD,+BAAiF,uBAAO/D,KAAK,OAAOmD,SAlBhG,SAACC,GACM,OAAnBA,EAAEC,OAAO+D,OACTK,EAAUrE,EAAEC,OAAO+D,MAAM,KAgB4GC,QAAM,OACnI,8BAAM7J,EAAOQ,UAEjB,cAACsE,EAAA,EAAD,CAAMJ,UAAWjD,IAAE2E,gBAAiBf,MAAI,EAAxC,SACI,cAACgB,EAAA,EAAD,CAAQb,WAAW,EAAMd,UAAWjD,IAAE6E,WAAYL,QA3BnD,WACXhE,EAAajC,GACb2D,KAyBiF4C,QAAQ,YAA7E,8ECgBL2D,GArCW,SAAC,GAAiH,IAAhHlK,EAA+G,EAA/GA,OAAQiC,EAAuG,EAAvGA,aAAcsH,EAAyF,EAAzFA,eAAgBvH,EAAyE,EAAzEA,0BAA2BK,EAA8C,EAA9CA,oBAAqBM,EAAyB,EAAzBA,aAE9G,EAA0EiB,oBAAS,GAAnF,mBAAKuG,EAAL,KAAqCC,EAArC,KAGA,EAAgExG,oBAAS,GAAzE,mBAAKyG,EAAL,KAAgCC,EAAhC,KAGA,EAAkD1G,oBAAS,GAA3D,mBAAK2G,EAAL,KAAyBC,EAAzB,KAGA,OAAO,sBAAK9F,UAAWjD,KAAEgJ,6BAAlB,UACFN,GAAkC,cAACO,GAAD,CAA0B1I,0BAA2BA,EAA2BK,oBAAqBA,EAAqBsB,WAT7H,kBAAMyG,GAAkC,MAUvEC,GAA6B,cAAC,GAAD,CAAqBd,eAAgBA,EAAgB5F,WAPxD,kBAAM2G,GAA6B,MAQ7DC,GAAsB,cAAC,GAAD,CAAmB5G,WALjB,kBAAM6G,GAAsB,IAKyBvI,aAAcA,IAC5F,cAACoE,EAAA,EAAD,CAAQ3B,UAAWjD,KAAEkJ,gBAAiBvB,UAAWzG,EAAjD,SACI,cAACiI,GAAA,EAAD,CAAQ3E,QAAS,kBAAMuE,GAAsB,IAAO9F,UAAWjD,KAAEzB,OAAQmB,IAAKnB,MAElF,sBAAK0E,UAAWjD,KAAEoJ,qCAAlB,UACA,sBAAKnG,UAAWjD,KAAEqJ,gBAAlB,UACI,sBAAKpG,UAAWjD,KAAEsJ,cAAlB,UACI,mBAAGrG,UAAWjD,KAAEjB,KAAhB,SAAuB6B,EAAoB5C,kBAC3C,cAAC4G,EAAA,EAAD,CAAQJ,QAAS,kBAAMmE,GAAkC,IAAO1F,UAAWjD,KAAE0F,OAAQiC,UAAWzG,EAAhG,SACI,qBAAK+B,UAAWjD,KAAEuJ,WAAY7J,IAAK6J,GAAYC,IAAI,qBAG3D,mBAAGvG,UAAWjD,KAAE/B,WAAhB,SAA6B2C,EAAoB3C,gBAErD,qBAAKgF,UAAWjD,KAAEyJ,mBAAlB,SACI,cAAC7E,EAAA,EAAD,CAAQJ,QAAS,kBAAMqE,GAA6B,IAAO5F,UAAWjD,KAAE0J,wBAAyB/B,UAAWzG,EAA5G,SACI,qBAAK+B,UAAWjD,KAAE8H,eAAgBpI,ICjDnC,6RDiDmD8J,IAAI,0BEzBvDG,GAPG,SAAC,GAAiK,IAAhK1J,EAA+J,EAA/JA,kBAAmBO,EAA4I,EAA5IA,aAAclC,EAA8H,EAA9HA,aAAc4C,EAAgH,EAAhHA,aAAc3C,EAAkG,EAAlGA,OAAQuJ,EAA0F,EAA1FA,eAAgBlI,EAA0E,EAA1EA,cAAegB,EAA2D,EAA3DA,oBAAqBL,EAAsC,EAAtCA,0BACzI,OAAO,gCACH,cAAC,GAAD,CAAqBhC,OAAQA,EAAQiC,aAAcA,EAAcD,0BAA2BA,EAA2BW,aAAcA,EAAcN,oBAAqBA,EAAqBkH,eAAgBA,IAC7M,cAAC,GAAD,CAAS7H,kBAAmBA,EAAmBL,cAAeA,EAAetB,aAAcA,QCJpFsL,GAFYhE,aATL,SAACC,GACnB,MAAO,CACHvH,aAAcuH,EAAMgE,YAAYvL,aAChCsC,oBAAqBiF,EAAMgE,YAAYjJ,oBACvCrC,OAAQsH,EAAMgE,YAAYtL,OAC1B2C,aAAc2E,EAAMC,MAAM5E,gBAIkB,CAACjB,kBhBmFtB,SAAClB,EAAcD,GAAf,8CAAsC,WAAOiH,GAAP,eAAAxJ,EAAA,sEACrCqC,EAAgBqB,kBAAkBlB,EAAMD,GADH,OAC7DgL,EAD6D,OAEjE/D,EAASlF,EAAsCiJ,IAFkB,2CAAtC,uDgBnFyCtJ,ahB8E9C,SAACS,GAAD,8CAA4B,WAAO8E,GAAP,eAAAxJ,EAAA,sEAC5B+D,EAAuBE,aAAaS,GADR,OAC9CP,EAD8C,OAElDqF,EAASlF,EAAgCH,IAFS,2CAA5B,uDgB9E4Dd,chByE3D,SAACD,EAAkBZ,GAAnB,8CAA2C,WAAOgH,GAAP,eAAAxJ,EAAA,sEACtCqC,EAAgBgB,cAAcD,EAASZ,GADD,OAC9D+K,EAD8D,OAElE/D,EAASlF,EAAsCiJ,IAFmB,2CAA3C,uDgBzE0EhC,ehB+DzE,SAAChJ,EAAWC,GAAZ,8CAAoC,WAAOgH,GAAP,eAAAxJ,EAAA,sEACzCqC,EAAgBC,eAAeC,EAAKC,GADK,OACxDO,EADwD,OAE5DyG,EAASlF,EAAkC,CAAC,CAAEnB,IAAKJ,EAAQP,OAAMY,SAAS,MAFd,2CAApC,uDgB/DyFY,0BhBoE9E,SAACvC,EAAyBC,GAA1B,8CAAwD,WAAO8H,GAAP,SAAAxJ,EAAA,sEACrF+D,EAAuBC,0BAA0BvC,EAAiBC,GADmB,OAE3F8H,EAASlF,EAA0C7C,EAAiBC,IAFuB,2CAAxD,wDgBpEZ2H,CAAsH+D,I,UCelII,OAnBf,YAAyC,IAA1BvM,EAAyB,EAAzBA,eAOb,OALAuE,qBAAU,WACRvE,MAEC,IAGD,cAACwM,GAAA,EAAD,CAAgBC,aAAW,EAA3B,SACE,qBAAKhH,UAAU,MAAf,SACE,sBAAKA,UAAU,UAAf,UACE,cAAC,EAAD,IACA,cAAC,GAAD,YCTKiH,GAFItE,aANG,SAACC,GACnB,MAAO,KAKiC,CAACrI,ejBmCjB,yDAAa,WAAOuI,GAAP,iBAAAxJ,EAAA,sEAClBgB,EAAQC,iBADU,YACjCwB,EADiC,wCAGLzB,EAAQkB,QAAQO,GAHX,QAG7BiH,EAH6B,UAK7BF,EAASlF,EAA0CoF,EAAgBjI,gBAAiBiI,EAAgBhI,aACpG8H,EAASlF,EAAgCoF,EAAgB1H,SACzDwH,EAASlF,EAAkCoF,EAAgB3H,eAC3DyH,EAAS3E,EAAaC,iBAAgB,KART,mDAAb,wDiBnCTuE,CAA2CmE,I,kBCN1DI,GAAWC,aAAgB,CAC3BP,YnBqB4B,WAA0D,IAAzDhE,EAAwD,uDAAhDlF,EAAc0J,EAAkC,uCACrF,OAAQA,EAAOtJ,MACX,IAAK,6BACD,OAAO,2BACA8E,GADP,IAEIvH,aAAa,GAAD,mBAAMuH,EAAMvH,cAAZ,YAA6B+L,EAAOvJ,SAExD,IAAK,iCACD,OAAO,2BACA+E,GADP,IAEIvH,aAAa,YAAK+L,EAAOrJ,SAEjC,IAAK,qCACD,OAAO,2BACA6E,GADP,IAEIjF,oBAAqB,CACjB5C,gBAAiBqM,EAAOrM,gBACxBC,WAAYoM,EAAOpM,cAG/B,IAAK,wBACD,OAAO,2BACA4H,GADP,IAEIvH,aAAc,GACdsC,oBAAqB,CACjB5C,gBAAiB,yBACjBC,WAAY,gCAEhBM,OAAQ,KAEhB,IAAK,2BACD,OAAO,2BACAsH,GADP,IAEItH,OAAQ8L,EAAOpJ,YAEvB,QACI,OAAO,eAAK4E,KmBxDpBC,MlBWsB,WAA0D,IAAzDD,EAAwD,uDAAhDlF,EAAc0J,EAAkC,uCAC/E,OAAQA,EAAOtJ,MACX,IAAK,wBACD,OAAO,2BAAK8E,GAAZ,IAAmB3E,aAAcmJ,EAAO/I,UAC5C,IAAK,iBACD,IAAIgJ,EAAYD,EAAO1N,MAAM4N,KAC7B,OAAID,EAAUE,SAAS,SACZ,2BAAI3E,GAAX,IAAkB1E,OAAO,2BAAK0E,EAAM1E,QAAZ,IAAoB9E,MAAOgO,EAAO1N,MAAM8N,YACzDH,EAAUE,SAAS,YAEnB,2BAAI3E,GAAX,IAAkB1E,OAAO,2BAAK0E,EAAM1E,QAAZ,IAAoB9E,MAAO,GAAIC,SAAU+N,EAAO1N,MAAM8N,YAE3E,eAAI5E,GACf,IAAK,oBACD,OAAO,2BAAIA,GAAX,IAAkB1E,OAAQ,CAAC9E,MAAO,GAAIC,SAAU,MACpD,QACI,OAAO,eAAKuJ,OkBfb6E,GAAQC,aAAYR,GAAUS,aAAgBC,OCZzDC,IAASC,OACP,cAAC,IAAD,CAAUL,MAAOA,GAAjB,SACE,cAAC,GAAD,MAEFM,SAASC,eAAe,U,mBCV1BC,EAAOC,QAAU,CAAC,cAAgB,8BAA8B,eAAiB,+BAA+B,MAAQ,sBAAsB,KAAO,qBAAqB,WAAa,2BAA2B,gBAAkB,gCAAgC,kBAAoB,kCAAkC,0BAA4B,0CAA0C,iBAAmB,iCAAiC,yBAA2B,yCAAyC,wBAA0B,0C,mBCAlhBD,EAAOC,QAAU,CAAC,OAAS,oCAAoC,gBAAkB,6CAA6C,cAAgB,2CAA2C,6BAA+B,0DAA0D,KAAO,kCAAkC,WAAa,wCAAwC,OAAS,oCAAoC,wBAA0B,qDAAqD,WAAa,wCAAwC,qCAAuC,kEAAkE,gBAAkB,+C,mBCA5pBD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,qBAAqB,OAAS,uBAAuB,OAAS,uBAAuB,OAAS,uBAAuB,QAAU,wBAAwB,OAAS,yB,mBCAzND,EAAOC,QAAU,CAAC,KAAO,0BAA0B,QAAU,6BAA6B,UAAY,+BAA+B,QAAU,6BAA6B,KAAO,0BAA0B,QAAU,6BAA6B,MAAQ,6B,mBCA5PD,EAAOC,QAAU,CAAC,iBAAmB,oC","file":"static/js/main.00c34cf8.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport 'firebase/analytics';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\nimport 'firebase/auth';\r\nimport { User } from '@firebase/auth-types';\r\nimport { GalleryCardType } from \"../redux/mainContentReducer\";\r\n\r\nlet firebaseConfig = {\r\n    apiKey: \"AIzaSyCmVSirreqo2Yg5J0DILaNDeS_nmHVlM4g\",\r\n    authDomain: \"mestos-2f5b4.firebaseapp.com\",\r\n    projectId: \"mestos-2f5b4\",\r\n    storageBucket: \"mestos-2f5b4.appspot.com\",\r\n    messagingSenderId: \"705771100749\",\r\n    appId: \"1:705771100749:web:3e88e7fbe7cb2710951a04\",\r\n    measurementId: \"G-VL1H3VE362\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.analytics();\r\n\r\nlet fs = firebase.firestore();\r\nlet storage = firebase.storage();\r\n\r\nexport let loginAPI = {\r\n    signUp: async (email: string, password: string) => {\r\n        let response = await firebase.auth().createUserWithEmailAndPassword(email, password)\r\n        .catch(error => error);\r\n        if (response.user) return response.user.uid;\r\n        return response;\r\n    },\r\n    signIn: async (email: string, password: string) => {\r\n        let response = await firebase.auth().signInWithEmailAndPassword(email, password)\r\n        .catch(error => error);\r\n        if (response.user) return response.user.uid;\r\n        return response;\r\n    },\r\n    logOut: async () => {\r\n        return await firebase.auth().signOut();\r\n    },\r\n    emailVerefication: async (): Promise<any> => {\r\n        let userCredential = firebase.auth().currentUser;\r\n        if (userCredential) {\r\n            return await userCredential.sendEmailVerification();\r\n        }\r\n    }\r\n};\r\n\r\nexport let userAPI = {\r\n    initializeUser: async (): Promise<string | null> => {\r\n        let userCredential: User | null = await new Promise((resolve, reject) => {\r\n            let unsubscribe = firebase.auth().onAuthStateChanged(uc => {\r\n                resolve(uc);\r\n                unsubscribe();\r\n            });\r\n        });\r\n        if (userCredential) return userCredential.uid;\r\n        return userCredential; //it'll return null\r\n    },\r\n    setUser: async (nameAndLastName: string, profession: string, id: string | undefined) => {\r\n        if (id) {\r\n            return await fs.collection('users').doc(id).set({\r\n                nameAndLastName,\r\n                profession,\r\n                galleryCards: [],\r\n                avatar: firebase.auth().currentUser?.photoURL\r\n            });\r\n        };\r\n    },\r\n    getUser: async (id: string) => {\r\n        let doc = await fs.collection('users').doc(id).get();\r\n        return doc.data();\r\n    }\r\n};\r\n\r\nexport let galleryCardsAPI = {\r\n    setGalleryCard: async (img: File, name: string): Promise<string> => {\r\n        //userId must be here\r\n        let userId = firebase.auth().currentUser!.uid;\r\n        let imgRef = storage.ref().child('users').child(userId).child(img.name);\r\n        await imgRef.put(img);\r\n        let imgUrl = await imgRef.getDownloadURL()\r\n        fs.collection('users').doc(userId).update({\r\n            galleryCards: firebase.firestore.FieldValue.arrayUnion({\r\n                name,\r\n                src: imgUrl,\r\n                isLiked: false\r\n            })\r\n        });\r\n        return imgUrl;\r\n    },\r\n    updateIsLiked: async (isLiked: boolean, name: string) => {\r\n        // 0_0\r\n        let userId = firebase.auth().currentUser?.uid;\r\n        let userDoc = await fs.collection('users').doc(userId).get()\r\n        let galleryCards: Array<GalleryCardType> = await userDoc.data()?.galleryCards;\r\n        let currentCardIndex = galleryCards.findIndex(c => c.name === name);\r\n        galleryCards[currentCardIndex].isLiked = isLiked;\r\n        fs.collection('users').doc(userId).update({\r\n            galleryCards\r\n        });\r\n        return galleryCards;\r\n    },\r\n    deleteGalleryCard: async (name: string, img: string) => {\r\n        //userId must be here\r\n        let userId = firebase.auth().currentUser!.uid;\r\n        let userDoc = await fs.collection('users').doc(userId).get();\r\n        let galleryCards: Array<GalleryCardType> = await userDoc.data()?.galleryCards;\r\n        let filtredGalleryCards = galleryCards.filter(c => c.name !== name);\r\n        let imgRef = storage.refFromURL(img);\r\n        await imgRef.delete();\r\n        fs.collection('users').doc(userId).update({\r\n            galleryCards: filtredGalleryCards\r\n        });\r\n        return filtredGalleryCards;\r\n    }\r\n};\r\n\r\nexport let personalInformationAPI = {\r\n    updatePersonalInformation: async (nameAndLastName: string, profession: string) => {\r\n        let userId = firebase.auth().currentUser?.uid;\r\n        return fs.collection('users').doc(userId).update({\r\n            nameAndLastName,\r\n            profession\r\n        });\r\n    },\r\n    updateAvatar: async (avatar: File): Promise<string> => {\r\n        //userId must be here\r\n        let userId = firebase.auth().currentUser!.uid;\r\n        let avatarRef = storage.ref().child('users').child(userId).child(avatar.name);\r\n        await avatarRef.put(avatar);\r\n        let avatarUrl: string = await avatarRef.getDownloadURL()\r\n        fs.collection('users').doc(userId).update({\r\n            avatar: avatarUrl\r\n        });\r\n        return avatarUrl;\r\n    },\r\n};","import { galleryCardsAPI, personalInformationAPI } from \"../api/api\";\r\nimport { ActionsType, BaseThunkType } from \"./store\";\r\n\r\nexport type GalleryCardType = {\r\n    name: string\r\n    src: string\r\n    isLiked: boolean\r\n    id?: number\r\n}\r\n\r\nexport type PersonalInformationType = {\r\n    nameAndLastName: string\r\n    profession: string\r\n}\r\n\r\nlet initialState = {\r\n    galleryCards: [] as Array<GalleryCardType>,\r\n    personalInformation: {\r\n        nameAndLastName: 'You are not authorized',\r\n        profession: 'Here will be your profession',\r\n    } as PersonalInformationType,\r\n    avatar: ''\r\n};\r\n\r\ntype InitialState = typeof initialState;\r\ntype Actions = ActionsType<typeof mainContentActions>;\r\n\r\nexport let mainContentReducer = (state = initialState, action: Actions): InitialState => {\r\n    switch (action.type) {\r\n        case 'mainContent/setGalleryCard':\r\n            return {\r\n                ...state,\r\n                galleryCards: [...state.galleryCards, ...action.card]\r\n            };\r\n        case 'mainContent/setNewGalleryCards':\r\n            return {\r\n                ...state,\r\n                galleryCards: [...action.cards]\r\n            };\r\n        case 'mainContent/setPersonalInformation':\r\n            return {\r\n                ...state,\r\n                personalInformation: {\r\n                    nameAndLastName: action.nameAndLastName,\r\n                    profession: action.profession\r\n                }\r\n            };\r\n        case 'mainContent/setLogOut':\r\n            return {\r\n                ...state,\r\n                galleryCards: [],\r\n                personalInformation: {\r\n                    nameAndLastName: 'You are not authorized',\r\n                    profession: 'Here will be your profession'\r\n                },\r\n                avatar: ''\r\n            };\r\n        case 'mainContent/updateAvatar':\r\n            return {\r\n                ...state,\r\n                avatar: action.newAvatar\r\n            }\r\n        default:\r\n            return { ...state };\r\n    }\r\n}\r\n\r\nexport let mainContentActions = {\r\n    setGalleryCard: (card: Array<GalleryCardType>) => ({ type: 'mainContent/setGalleryCard', card } as const),\r\n    setNewGalleryCards: (cards: Array<GalleryCardType>) => ({type: 'mainContent/setNewGalleryCards', cards} as const),\r\n    setPersonalInformation: (nameAndLastName: string, profession: string) => ({ type: 'mainContent/setPersonalInformation', nameAndLastName, profession }) as const,\r\n    setLogOut: () => ({ type: 'mainContent/setLogOut' } as const),\r\n    updateAvatar: (newAvatar: string) => ({ type: 'mainContent/updateAvatar', newAvatar} as const)\r\n};\r\n\r\ntype Thunk = BaseThunkType<Actions>;\r\n\r\nexport let addGalleryCard = (img: File, name: string): Thunk => async (dispatch) => {\r\n    let imgUrl = await galleryCardsAPI.setGalleryCard(img, name);\r\n    dispatch(mainContentActions.setGalleryCard([{ src: imgUrl, name, isLiked: false }]));\r\n};\r\n\r\nexport let updatePersonalInformation = (nameAndLastName: string, profession: string): Thunk => async (dispatch) => {\r\n    await personalInformationAPI.updatePersonalInformation(nameAndLastName, profession);\r\n    dispatch(mainContentActions.setPersonalInformation(nameAndLastName, profession));\r\n};\r\n\r\nexport let updateIsLiked = (isLiked: boolean, name: string): Thunk => async (dispatch) => {\r\n    let newGalleryCards = await galleryCardsAPI.updateIsLiked(isLiked, name);\r\n    dispatch(mainContentActions.setNewGalleryCards(newGalleryCards));\r\n};\r\n\r\nexport let updateAvatar = (newAvatar: File): Thunk => async (dispatch) => {\r\n    let avatarUrl = await personalInformationAPI.updateAvatar(newAvatar);\r\n    dispatch(mainContentActions.updateAvatar(avatarUrl));\r\n};\r\n\r\nexport let deleteGalleryCard = (name: string, img: string): Thunk => async (dispatch) => {\r\n    let newGalleryCards = await galleryCardsAPI.deleteGalleryCard(name, img);\r\n    dispatch(mainContentActions.setNewGalleryCards(newGalleryCards));\r\n};","import { loginAPI, userAPI } from \"../api/api\";\r\nimport { mainContentActions } from \"./mainContentReducer\";\r\nimport { ActionsType, BaseThunkType } from \"./store\";\r\nimport { FirebaseError } from '@firebase/util';\r\n\r\nlet initialState = {\r\n    isAuthorized: false,\r\n    errors: {\r\n        email: '',\r\n        password: ''\r\n    }\r\n};\r\n\r\nexport type LoginErrors = typeof initialState.errors;\r\n\r\ntype InitialState = typeof initialState;\r\ntype Actions = ActionsType<typeof loginActions>;\r\n\r\nexport let loginReducer = (state = initialState, action: Actions): InitialState => {\r\n    switch (action.type) {\r\n        case 'login/setIsAuthorized':\r\n            return { ...state, isAuthorized: action.boolean };\r\n        case 'login/setError':\r\n            let errorCode = action.error.code;\r\n            if (errorCode.includes('email' || 'auth')) {\r\n                return {...state, errors: {...state.errors, email: action.error.message}};\r\n            } else if (errorCode.includes('password')) {\r\n                // the problem is in the password and email error must be clered\r\n                return {...state, errors: {...state.errors, email: '', password: action.error.message}}\r\n            };\r\n            return {...state};\r\n        case 'login/clearErrors':\r\n            return {...state, errors: {email: '', password: ''}};\r\n        default:\r\n            return { ...state };\r\n    }\r\n}\r\n\r\nexport let loginActions = {\r\n    setIsAuthorized: (boolean: boolean) => ({ type: 'login/setIsAuthorized', boolean } as const),\r\n    setError: (error: FirebaseError) => ({ type: 'login/setError', error } as const),\r\n    clearErrors: () => ({ type: 'login/clearErrors' } as const)\r\n};\r\n\r\ntype Thunk = BaseThunkType<Actions | ReturnType<typeof mainContentActions.setPersonalInformation> | ReturnType<typeof mainContentActions.setGalleryCard> | ReturnType<typeof mainContentActions.setLogOut> | ReturnType<typeof mainContentActions.updateAvatar>>;\r\n\r\nexport let initializeUser = (): Thunk => async (dispatch) => {\r\n    let userId = await userAPI.initializeUser();\r\n    if (userId) {\r\n        let userInformation = await userAPI.getUser(userId);\r\n        if (userInformation) {\r\n            dispatch(mainContentActions.setPersonalInformation(userInformation.nameAndLastName, userInformation.profession));\r\n            dispatch(mainContentActions.updateAvatar(userInformation.avatar));\r\n            dispatch(mainContentActions.setGalleryCard(userInformation.galleryCards));\r\n            dispatch(loginActions.setIsAuthorized(true));\r\n        };\r\n    };\r\n};\r\n\r\nexport let signUp = (nameAndLastName: string, profession: string, email: string, password: string, isGetEmailVerefication: boolean): Thunk => async (dispatch) => {\r\n    let response = await loginAPI.signUp(email, password);\r\n    if (typeof response === 'string') {\r\n        await userAPI.setUser(nameAndLastName, profession, response);\r\n        dispatch(loginActions.clearErrors());\r\n        dispatch(mainContentActions.setPersonalInformation(nameAndLastName, profession));\r\n        dispatch(loginActions.setIsAuthorized(true));\r\n        if (isGetEmailVerefication) await loginAPI.emailVerefication();\r\n    } else if (response !== 'undefined') {\r\n        dispatch(loginActions.setError(response));\r\n    };\r\n};\r\n\r\nexport let signIn = (email: string, password: string): Thunk => async (dispatch) => {\r\n    let response = await loginAPI.signIn(email, password);\r\n    if (typeof response === 'string') {\r\n        let userInformation = await userAPI.getUser(response);\r\n        if (userInformation !== undefined) {\r\n            dispatch(loginActions.clearErrors());\r\n            dispatch(mainContentActions.setPersonalInformation(userInformation.nameAndLastName, userInformation.profession));\r\n            dispatch(mainContentActions.updateAvatar(userInformation.avatar));\r\n            dispatch(mainContentActions.setGalleryCard(userInformation.galleryCards));\r\n            dispatch(loginActions.setIsAuthorized(true));\r\n        };\r\n    } else if (typeof response !== 'undefined') {\r\n        dispatch(loginActions.setError(response));\r\n    };\r\n};\r\n\r\nexport let logOut = (): Thunk => async (dispatch) => {\r\n    await loginAPI.logOut();\r\n    dispatch(loginActions.setIsAuthorized(false));\r\n    dispatch(mainContentActions.setLogOut());\r\n};","import { useRef, useEffect } from 'react';\r\n\r\nexport let useClose = (isClose: boolean, closeFunction: Function, dependencies: string | number | Object) => {\r\n    let isMounted = useRef(false);\r\n    useEffect(() => {\r\n        if (!isMounted.current) {\r\n            isMounted.current = true;\r\n        } else {\r\n            isClose && closeFunction()\r\n        };\r\n        //eslint-disable-next-line\r\n    }, [dependencies]);\r\n};","import { Button, Grid, Modal, TextField, Checkbox } from '@material-ui/core';\r\nimport { useState } from 'react';\r\nimport { useClose } from '../../assets/hoc/useClose';\r\nimport { LoginErrors } from '../../redux/loginReducer';\r\nimport c from './modals.module.css';\r\n\r\ntype Props = {\r\n    signUp: (nameAndLastName: string, profession: string, email: string, password: string, isGetEmailVerefication: boolean) => void;\r\n    closeModal: () => void\r\n    errors: LoginErrors\r\n    clearErrors: () => void\r\n}\r\n\r\nlet RegistrationModal = ({signUp, closeModal, errors, clearErrors}: Props) => {\r\n    let [nameAndLastName, setNameAndLastName] = useState('');\r\n    let [isNameAndLastNameError, setIsNameAndLastNameError] = useState(false);\r\n    let [profession, setProfession] = useState('');\r\n    let [isProfessionError, setIsProfessionError] = useState(false);\r\n    // these errors come here from an errors object because they are from firebase\r\n    let [email, setEmail] = useState('');\r\n    let [password, setPassword] = useState('');\r\n\r\n    let [isGetEmailVerefication, setIsGetEmailVerefication] = useState(false);\r\n\r\n    let saveData = () => {\r\n        nameAndLastName.length === 0 ? setIsNameAndLastNameError(true) : setIsNameAndLastNameError(false);\r\n        profession.length === 0 ? setIsProfessionError(true) : setIsProfessionError(false);\r\n        (nameAndLastName.length && profession.length !== 0) && signUp(nameAndLastName, profession, email, password, isGetEmailVerefication);\r\n    };\r\n\r\n    let onCloseModal = () => {\r\n        closeModal();\r\n        clearErrors()\r\n        setNameAndLastName('');\r\n        setProfession('');\r\n        setEmail('');\r\n        setPassword('');\r\n    };\r\n\r\n    let isClose = errors.email.length === 0 && errors.password.length === 0;\r\n    useClose(isClose, onCloseModal, errors);\r\n\r\n    return <Modal className={c.modalContainer} onClose={onCloseModal} open={true} >\r\n        <Grid className={c.gridContainer} container direction='column' justifyContent='center' alignItems='center'>\r\n            <div className={c.modal}>\r\n                <Grid item>\r\n                    <h2 className={c.sign}>sign up</h2>\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={isNameAndLastNameError}\r\n                    fullWidth={true}\r\n                    label='name and last name'\r\n                    value={nameAndLastName}\r\n                    onChange={(e) => setNameAndLastName(e.target.value)} \r\n                    />\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={isProfessionError}\r\n                    fullWidth={true}\r\n                    label='profession'\r\n                    value={profession}\r\n                    onChange={(e) => setProfession(e.target.value)}\r\n                    />\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={errors.email.length !== 0}\r\n                    helperText={errors.email}\r\n                    fullWidth={true}\r\n                    type='email'\r\n                    label='email'\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    />\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={errors.password.length !== 0}\r\n                    helperText={errors.password}\r\n                    fullWidth={true}\r\n                    type='password'\r\n                    label='password'\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                </Grid>\r\n                <Grid item>\r\n                    <div className={c.emailVerefication}>  \r\n                        <Checkbox className={c.emailVereficationCheckbox} onClick={() => setIsGetEmailVerefication(!isGetEmailVerefication)} checked={isGetEmailVerefication} />\r\n                        <p className={c.confirmEmailSign}>Подтвердить почту</p>\r\n                    </div>\r\n                </Grid>\r\n                <Grid className={c.buttonContainer} item>\r\n                    <Button\r\n                    fullWidth={true}\r\n                    className={c.saveButton}\r\n                    onClick={saveData}\r\n                    variant='contained'>Сохранить</Button>\r\n                </Grid>\r\n            </div>\r\n        </Grid>\r\n    </Modal>\r\n}\r\n\r\nexport default RegistrationModal;","import { Button, Grid, Modal, TextField } from '@material-ui/core';\r\nimport { useState } from 'react';\r\nimport { useClose } from '../../assets/hoc/useClose';\r\nimport { LoginErrors } from '../../redux/loginReducer';\r\nimport c from './modals.module.css';\r\n\r\ntype Props = {\r\n    signIn: (email: string, password: string) => void\r\n    closeModal: () => void\r\n    errors: LoginErrors\r\n    clearErrors: () => void\r\n}\r\n\r\nlet LoginModal = ({signIn, closeModal, errors, clearErrors}: Props) => {\r\n\r\n    let [email, setEmail] = useState('');\r\n    let [password, setPassword] = useState('');\r\n\r\n    let saveData = () => {\r\n        signIn(email, password);\r\n    };\r\n\r\n    let onCloseModal = () => {\r\n        closeModal();\r\n        clearErrors()\r\n        setEmail('');\r\n        setPassword('');\r\n    };\r\n\r\n    let isClose = errors.email.length === 0 && errors.password.length === 0;\r\n    useClose(isClose, onCloseModal, errors);\r\n\r\n    return <Modal className={c.modalContainer} onClose={onCloseModal} open={true} >\r\n        <Grid className={c.gridContainer} container direction='column' justifyContent='center' alignItems='center'>\r\n            <div className={c.modal}>\r\n                <Grid item>\r\n                    <h2 className={c.sign}>sign in</h2>\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={errors.email.length !== 0}\r\n                    helperText={errors.email}\r\n                    fullWidth={true}\r\n                    label='email'\r\n                    type='email'\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)} />\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={errors.password.length !== 0}\r\n                    helperText={errors.password}\r\n                    fullWidth={true}\r\n                    label='password'\r\n                    type='password'\r\n                    value={password} \r\n                    onChange={(e) => setPassword(e.target.value)} />\r\n                </Grid>\r\n                <Grid className={c.buttonContainer} item>\r\n                    <Button\r\n                    fullWidth={true}\r\n                    className={c.saveButton}\r\n                    onClick={saveData}\r\n                    variant='contained'>Сохранить</Button>\r\n                </Grid>\r\n            </div>\r\n        </Grid>\r\n    </Modal>\r\n}\r\n\r\nexport default LoginModal;","import { Button } from '@material-ui/core';\r\nimport { useState } from 'react';\r\nimport RegistrationModal from '../modals/RegistrationModal';\r\nimport LoginModal from '../modals/LoginModal';\r\nimport c from './header.module.css';\r\nimport { LoginErrors } from '../../redux/loginReducer';\r\n\r\ntype Props = {\r\n    isAuthorized: boolean\r\n    errors: LoginErrors\r\n    clearErrors: () => void\r\n    signUp: (nameAndLastName: string, profession: string, email: string, password: string, isGetEmailVerefication: boolean) => void\r\n    signIn: (email: string, password: string) => void\r\n    logOut: () => void\r\n}\r\n\r\nlet Header = ({clearErrors, errors, isAuthorized, signUp, signIn, logOut}: Props) => {\r\n\r\n    let [isRegistrationModalOpen, setIsRegistrationModalOpen] = useState(false);\r\n    let closeRegistrationModal = () => setIsRegistrationModalOpen(false);\r\n\r\n    let [isLoginModalOpen, setIsLoginModalOpen] = useState(false);\r\n    let closeLoginModal = () => setIsLoginModalOpen(false);\r\n\r\n    return (\r\n        <header>\r\n            {isRegistrationModalOpen && <RegistrationModal clearErrors={clearErrors} errors={errors} signUp={signUp} closeModal={closeRegistrationModal} />}\r\n            {isLoginModalOpen && <LoginModal clearErrors={clearErrors} errors={errors} signIn={signIn} closeModal={closeLoginModal} />}\r\n                <div className={c.header}>\r\n                    <div className={c.logo}>\r\n                        <h2 className={c.mestos}>Mestos</h2>\r\n                        <p className={c.russia}>Russia</p>\r\n                    </div>\r\n                    <div>\r\n                        {isAuthorized ? <p className={c.logOut} onClick={logOut}>log out</p> : \r\n                            <div className={c.buttons}>\r\n                                <Button className={c.button} onClick={() => setIsRegistrationModalOpen(true)}>Log up</Button>\r\n                                <Button className={c.button} onClick={() => setIsLoginModalOpen(true)}>Log in</Button>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            <hr />\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Header;\r\n","import { connect } from \"react-redux\";\r\nimport { signUp, signIn, logOut, loginActions } from \"../../redux/loginReducer\";\r\nimport { AppState } from \"../../redux/store\";\r\nimport Header from \"./Header\";\r\n\r\nlet mapStateToProps = (state: AppState) => {\r\n    return {\r\n        isAuthorized: state.login.isAuthorized,\r\n        errors: state.login.errors\r\n    }\r\n}\r\n\r\nlet HeaderContainer = connect(mapStateToProps, {clearErrors: loginActions.clearErrors, signUp, signIn, logOut})(Header);\r\n\r\nexport default HeaderContainer;","import { Card, CardContent, CardMedia, Grid, Checkbox } from \"@material-ui/core\"\r\nimport UncheckedIcon from '@material-ui/icons/FavoriteBorderOutlined';\r\nimport CheckedIcon from '@material-ui/icons/Favorite';\r\nimport c from './galleryCard.module.css';\r\nimport DeleteIcon from '@material-ui/icons/DeleteOutline';\r\n\r\ntype Props = {\r\n    src: string\r\n    name: string\r\n    isLiked: boolean\r\n    updateIsLiked: (isLiked: boolean, name: string) => void\r\n    deleteGalleryCard: (name: string, img: string) => void\r\n};\r\n\r\nlet GalleryCard = ({src, name, isLiked, updateIsLiked, deleteGalleryCard}: Props) => {\r\n\r\n    let onLikeClick = async () => {\r\n        updateIsLiked(!isLiked, name);\r\n    }\r\n\r\n    return <Grid item xs={12} sm={6} md={4} >\r\n        <Card>\r\n            <CardMedia className={c.cardImg} image={src} />\r\n            <CardContent className={c.content}>\r\n                <DeleteIcon className={c.trash} onClick={() => deleteGalleryCard(name, src)} />\r\n                <p className={c.name}>{name}</p>\r\n                <Checkbox checked={isLiked} onClick={onLikeClick} className={c.like} checkedIcon={<CheckedIcon className={c.checked} />} icon={<UncheckedIcon className={c.unchecked} />} />\r\n            </CardContent>\r\n        </Card>\r\n    </Grid>\r\n}\r\n\r\nexport default GalleryCard;","import c from './gallery.module.css';\r\nimport { Grid } from \"@material-ui/core\"\r\nimport GalleryCard from './galleryCard/GalleryCard';\r\nimport { GalleryCardType } from '../../../redux/mainContentReducer';\r\n\r\ntype Props = {\r\n    galleryCards: Array<GalleryCardType>\r\n    updateIsLiked: (isLiked: boolean, name: string) => void\r\n    deleteGalleryCard: (name: string, img: string) => void\r\n}  \r\n\r\nlet Gallery = ({deleteGalleryCard, galleryCards, updateIsLiked}: Props) => {\r\n    let Card = galleryCards.map(c => <GalleryCard deleteGalleryCard={deleteGalleryCard} updateIsLiked={updateIsLiked} name={c.name} src={c.src} isLiked={c.isLiked} key={c.name} />);\r\n\r\n    return <div className={c.galleryContainer}>\r\n        <Grid container spacing={1}>\r\n            {Card}\r\n        </Grid>\r\n    </div>\r\n};\r\n\r\nexport default Gallery;","export default __webpack_public_path__ + \"static/media/editButton.af236f6c.svg\";","import { Modal, TextField, Button, Grid } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { PersonalInformationType } from \"../../redux/mainContentReducer\";\r\nimport c from './modals.module.css';\r\n\r\ntype Props = {\r\n    personalInformation: PersonalInformationType\r\n    updatePersonalInformation: (nameAndLastName: string, profession: string) => void\r\n    closeModal: () => void\r\n};\r\n\r\nlet PersonalInformationWindow = ({ closeModal, updatePersonalInformation, personalInformation }: Props) => {\r\n\r\n    let [nameAndLastName, setNameAndLastName] = useState(personalInformation.nameAndLastName);\r\n    let [profession, setProfession] = useState(personalInformation.profession);\r\n\r\n    let onSaveButtonClick = (nameAndLastName: string, profession: string) => {\r\n        updatePersonalInformation(nameAndLastName, profession);\r\n        closeModal();\r\n    };\r\n\r\n    let onCloseModal = () => {\r\n        closeModal();\r\n        setNameAndLastName('');\r\n        setProfession('');\r\n    }\r\n\r\n    let isNameAndLastNameFieldError = nameAndLastName.length >= 18 || nameAndLastName.length === 0;\r\n    let isProfessionFieldError = profession.length >= 30 || profession.length === 0;\r\n\r\n    return <div>\r\n        <Modal className={`${c.modalContainer} ${c.personalInformationModal}`} onClose={onCloseModal} open={true} >\r\n            <Grid className={c.gridContainer} container direction='column' justifyContent='center' alignItems='center'>\r\n                <div className={c.modal}>\r\n                    <Grid item>\r\n                        <h2 className={`${c.sign} ${c.personalInformationSign}`}>Редактировать профиль</h2>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <TextField\r\n                            error={isNameAndLastNameFieldError}\r\n                            fullWidth={true}\r\n                            label='name and last name'\r\n                            value={nameAndLastName}\r\n                            onChange={(e) => setNameAndLastName(e.target.value)}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <TextField\r\n                            error={isProfessionFieldError}\r\n                            fullWidth={true}\r\n                            label='profession'\r\n                            value={profession}\r\n                            onChange={(e) => setProfession(e.target.value)}\r\n                        />\r\n                    </Grid>\r\n                    <Grid className={c.buttonContainer} item>\r\n                        <Button\r\n                            disabled={isNameAndLastNameFieldError || isProfessionFieldError}\r\n                            fullWidth={true}\r\n                            className={c.saveButton}\r\n                            onClick={() => onSaveButtonClick(nameAndLastName, profession)}\r\n                            variant='contained'>Сохранить</Button>\r\n                    </Grid>\r\n                </div>\r\n            </Grid>\r\n        </Modal>\r\n    </div>\r\n};\r\n\r\nexport default PersonalInformationWindow;","import { Modal, TextField, Button, Grid } from \"@material-ui/core\";\r\nimport { ChangeEvent, useState } from \"react\";\r\nimport c from './modals.module.css';\r\n\r\ntype Props = {\r\n    addGalleryCard: (img: File, name: string) => void\r\n    closeModal: () => void\r\n};\r\n\r\nlet AddGalleryCardModal = ({ addGalleryCard, closeModal }: Props) => {\r\n\r\n    let [img, setImg] = useState<File>({} as File);\r\n    let [name, setName] = useState('');\r\n\r\n    let saveButton = () => {\r\n        addGalleryCard(img, name);\r\n        closeModal();\r\n    };\r\n\r\n    let onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files !== null) {\r\n            setImg(e.target.files[0]);\r\n        };\r\n    };\r\n\r\n    let onCloseModal = () => {\r\n        closeModal();\r\n        setImg({} as File);\r\n        setName('');\r\n    };\r\n\r\n    return <Modal className={`${c.modalContainer} ${c.addGalleryCardModal}`} onClose={onCloseModal} open={true} >\r\n        <Grid className={c.gridContainer} container direction='column' justifyContent='center' alignItems='center'>\r\n            <div className={c.modal}>\r\n                <Grid item>\r\n                    <h2 className={c.sign}>Добавить карточку в галлерею</h2>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button fullWidth={true} component='label' variant='contained'>Выбрать фотографию <input type='file' onChange={onInputChange} hidden /></Button>\r\n                    <div>{img.name}</div>\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField error={name.length >= 16} inputProps={{maxLength: 16}} fullWidth={true} label='Название' value={name} onChange={(e) => setName(e.target.value)} />\r\n                </Grid>\r\n                <Grid className={c.buttonContainer} item>\r\n                    <Button disabled={name.length === 0 || name.length >= 16 || !img.name} fullWidth={true} className={c.saveButton} onClick={saveButton} variant='contained'>Сохранить</Button>\r\n                </Grid>\r\n            </div>\r\n        </Grid>\r\n    </Modal>\r\n};\r\n\r\nexport default AddGalleryCardModal;","import { Button, Grid, Modal } from '@material-ui/core';\r\nimport { ChangeEvent, useState } from 'react';\r\nimport c from './modals.module.css';\r\n\r\ntype Props = {\r\n    closeModal: () => void\r\n    updateAvatar: (newAvatar: File) => void\r\n}\r\n\r\nlet UpdateAvatarModal = ({closeModal, updateAvatar}: Props) => {\r\n\r\n    let [avatar, setAvatar] = useState<File>({} as File);\r\n\r\n    let saveData = () => {\r\n        updateAvatar(avatar);\r\n        closeModal();\r\n    };\r\n\r\n    let onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files !== null) {\r\n            setAvatar(e.target.files[0]);\r\n        };\r\n    };\r\n\r\n    let onCloseModal = () => {\r\n        setAvatar({} as File);\r\n        closeModal();\r\n    };\r\n\r\n    return <Modal className={c.modalContainer} onClose={onCloseModal} open={true} >\r\n        <Grid className={c.gridContainer} container direction='column' justifyContent='center' alignItems='center'>\r\n            <div className={c.modal}>\r\n                <Grid item>\r\n                    <h2 className={c.sign}>Choose new avatar</h2>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button fullWidth={true} component='label' variant='contained'>Choose new avatar <input type='file' onChange={onInputChange} hidden /></Button>\r\n                    <div>{avatar.name}</div>\r\n                </Grid>\r\n                <Grid className={c.buttonContainer} item>\r\n                    <Button fullWidth={true} className={c.saveButton} onClick={saveData} variant='contained'>Сохранить</Button>\r\n                </Grid>\r\n            </div>\r\n        </Grid>\r\n    </Modal>\r\n}\r\n\r\nexport default UpdateAvatarModal;","import { Avatar, Button } from '@material-ui/core';\r\nimport editButton from './../../../assets/img/editButton.svg';\r\nimport addButton from './../../../assets/img/addButton.png';\r\nimport c from './personalInformation.module.css';\r\nimport { PersonalInformationType } from '../../../redux/mainContentReducer';\r\nimport PersonalInformationModal from '../../modals/PersonalInformationModal';\r\nimport { useState } from 'react';\r\nimport AddGalleryCardModal from '../../modals/AddGalleryCardModal';\r\nimport UpdateAvatarModal from '../../modals/UpdateAvatarModal';\r\n\r\ntype Props = {\r\n    personalInformation: PersonalInformationType\r\n    isAuthorized: boolean\r\n    avatar: string\r\n    updatePersonalInformation: (nameAndLastName: string, profession: string) => void\r\n    addGalleryCard: (img: File, name: string) => void\r\n    updateAvatar: (newAvatar: File) => void\r\n}\r\n\r\nlet PersonalInformation = ({avatar, updateAvatar, addGalleryCard, updatePersonalInformation, personalInformation, isAuthorized}: Props) => {\r\n\r\n    let [isPersonalInformationModalOpen, setIsPersonalInformationModalOpen] = useState(false);\r\n    let closePersonalInformationModal = () => setIsPersonalInformationModalOpen(false);\r\n    \r\n    let [isAddGalleryCardModalOpen, setIsAddGalleryCardModalOpen] = useState(false);\r\n    let closeAddGalleryCardModal = () => setIsAddGalleryCardModalOpen(false);\r\n\r\n    let [isUpdateAvatarOpen, setIsUpdateAvatarOpen] = useState(false);\r\n    let closeUpdateAvatarModal = () => setIsUpdateAvatarOpen(false);\r\n    \r\n    return <div className={c.personalInformationContainer}>\r\n        {isPersonalInformationModalOpen && <PersonalInformationModal updatePersonalInformation={updatePersonalInformation} personalInformation={personalInformation} closeModal={closePersonalInformationModal} />}\r\n        {isAddGalleryCardModalOpen && <AddGalleryCardModal addGalleryCard={addGalleryCard} closeModal={closeAddGalleryCardModal} />}\r\n        {isUpdateAvatarOpen && <UpdateAvatarModal closeModal={closeUpdateAvatarModal} updateAvatar={updateAvatar} />}\r\n        <Button className={c.avatarContainer} disabled={!isAuthorized}>\r\n            <Avatar onClick={() => setIsUpdateAvatarOpen(true)} className={c.avatar} src={avatar} />\r\n        </Button>\r\n        <div className={c.mainInformationAndAddButtonContainer}>\r\n        <div className={c.mainInformation}>\r\n            <div className={c.nameContainer}>\r\n                <p className={c.name}>{personalInformation.nameAndLastName}</p>\r\n                <Button onClick={() => setIsPersonalInformationModalOpen(true)} className={c.button} disabled={!isAuthorized}>\r\n                    <img className={c.editButton} src={editButton} alt='edit button' />\r\n                </Button>\r\n            </div>\r\n            <p className={c.profession}>{personalInformation.profession}</p>\r\n        </div>\r\n        <div className={c.addButtonContainer}>\r\n            <Button onClick={() => setIsAddGalleryCardModalOpen(true)} className={c.addGalleryCardContainer} disabled={!isAuthorized}>\r\n                <img className={c.addGalleryCard} src={addButton} alt='add button' />\r\n            </Button>\r\n        </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default PersonalInformation;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABYSURBVHgB7ZTBCQAhDARzx/VzlqAlWYmt2dGah6A/F1E/ZmAhj+w8RCJCAMCj4ZnOK5swsYkPij/yw//d7LQzLDxgtibY9xSaQOw5Tapz1GRZgR0hE98qLoUTKea0/ImAAAAAAElFTkSuQmCC\"","// import c from './mainContent.module.css';\r\nimport { GalleryCardType, PersonalInformationType } from '../../redux/mainContentReducer';\r\nimport Gallery from './gallery/Gallery';\r\nimport PersonalInformation from './personInformation/PersonInformation';\r\n\r\ntype Props = {\r\n    galleryCards: Array<GalleryCardType>\r\n    personalInformation: PersonalInformationType\r\n    isAuthorized: boolean\r\n    avatar: string\r\n    updatePersonalInformation: (nameAndLastName: string, profession: string) => void\r\n    addGalleryCard: (img: File, name: string) => void\r\n    updateIsLiked: (isLiked: boolean, name: string) => void\r\n    updateAvatar: (newAvatar: File) => void\r\n    deleteGalleryCard: (name: string, img: string) => void\r\n}\r\n\r\nlet MainContent = ({deleteGalleryCard, updateAvatar, galleryCards, isAuthorized, avatar, addGalleryCard, updateIsLiked, personalInformation, updatePersonalInformation}: Props) => {\r\n    return <div>\r\n        <PersonalInformation avatar={avatar} updateAvatar={updateAvatar} updatePersonalInformation={updatePersonalInformation} isAuthorized={isAuthorized} personalInformation={personalInformation} addGalleryCard={addGalleryCard} />\r\n        <Gallery deleteGalleryCard={deleteGalleryCard} updateIsLiked={updateIsLiked} galleryCards={galleryCards} />\r\n    </div>\r\n};\r\n\r\nexport default MainContent;","import { connect } from \"react-redux\";\r\nimport { addGalleryCard, deleteGalleryCard, updateAvatar, updateIsLiked, updatePersonalInformation } from \"../../redux/mainContentReducer\";\r\nimport { AppState } from \"../../redux/store\";\r\nimport MainContent from \"./MainContent\";\r\n\r\nlet mapStateToProps = (state: AppState) => {\r\n    return {\r\n        galleryCards: state.mainContent.galleryCards,\r\n        personalInformation: state.mainContent.personalInformation,\r\n        avatar: state.mainContent.avatar,\r\n        isAuthorized: state.login.isAuthorized\r\n    }\r\n}\r\n\r\nlet MainContentContainer = connect(mapStateToProps, {deleteGalleryCard, updateAvatar, updateIsLiked, addGalleryCard, updatePersonalInformation})(MainContent);\r\n\r\nexport default MainContentContainer;","import './App.css';\r\nimport HeaderContainer from './components/header/HeaderContainer';\r\nimport MainContentContainer from './components/mainContent/MainContentContainer';\r\nimport { StylesProvider } from '@material-ui/core/styles';\r\nimport { useEffect } from 'react';\r\n\r\ntype Props = {\r\n  initializeUser: () => void\r\n};\r\n\r\nfunction App({ initializeUser }: Props) {\r\n\r\n  useEffect(() => {\r\n    initializeUser();\r\n    //eslint-disable-next-line\r\n  }, [])\r\n\r\n  return (\r\n    <StylesProvider injectFirst>\r\n      <div className='app'>\r\n        <div className='wrapper'>\r\n          <HeaderContainer />\r\n          <MainContentContainer />\r\n        </div>\r\n      </div>\r\n    </StylesProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { connect } from \"react-redux\";\r\nimport App from \"./App\";\r\nimport { AppState } from \"./redux/store\";\r\nimport { initializeUser } from \"./redux/loginReducer\";\r\n\r\nlet mapStateToProps = (state: AppState) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nlet AppContainer = connect(mapStateToProps, {initializeUser})(App);\r\n\r\nexport default AppContainer;","import { Action, applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport { mainContentReducer } from \"./mainContentReducer\";\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk';\r\nimport { loginReducer } from \"./loginReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    mainContent: mainContentReducer,\r\n    login: loginReducer\r\n});\r\n\r\ntype Reducers = typeof reducers;\r\nexport type AppState = ReturnType<Reducers>;\r\n\r\ntype Properties<T> = T extends {[key: string]: infer U} ? U : never;\r\nexport type ActionsType<T extends {[key: string]: (...args: any[]) => any}> = ReturnType<Properties<T>>;\r\n\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppState, unknown, A>;\r\n\r\n// export let store = createStore(reducers)\r\nexport let store = createStore(reducers, applyMiddleware(thunkMiddleware))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport AppContainer from './AppContainer';\r\nimport { store } from './redux/store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <AppContainer />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridContainer\":\"modals_gridContainer__38ML2\",\"modalContainer\":\"modals_modalContainer__rLQIA\",\"modal\":\"modals_modal__gAT-W\",\"sign\":\"modals_sign__3eSQ1\",\"saveButton\":\"modals_saveButton__pGSpP\",\"buttonContainer\":\"modals_buttonContainer__2CjMk\",\"emailVerefication\":\"modals_emailVerefication__2iz3Y\",\"emailVereficationCheckbox\":\"modals_emailVereficationCheckbox__14MmN\",\"confirmEmailSign\":\"modals_confirmEmailSign__29dm4\",\"personalInformationModal\":\"modals_personalInformationModal__2XmnG\",\"personalInformationSign\":\"modals_personalInformationSign__2uGWC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"personalInformation_avatar__1IOPq\",\"avatarContainer\":\"personalInformation_avatarContainer__2Mz_9\",\"nameContainer\":\"personalInformation_nameContainer__3UNig\",\"personalInformationContainer\":\"personalInformation_personalInformationContainer__B6q3e\",\"name\":\"personalInformation_name__39_XT\",\"profession\":\"personalInformation_profession__3173H\",\"button\":\"personalInformation_button__SCt88\",\"addGalleryCardContainer\":\"personalInformation_addGalleryCardContainer__g5Xak\",\"editButton\":\"personalInformation_editButton__NMHJF\",\"mainInformationAndAddButtonContainer\":\"personalInformation_mainInformationAndAddButtonContainer__37bGM\",\"mainInformation\":\"personalInformation_mainInformation__3sLIy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__4gg0a\",\"logo\":\"header_logo__2K_BC\",\"mestos\":\"header_mestos__19D_f\",\"russia\":\"header_russia__14FvB\",\"logOut\":\"header_logOut__234dc\",\"buttons\":\"header_buttons__3F7Bv\",\"button\":\"header_button__GL6lq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"like\":\"galleryCard_like__2kOAE\",\"checked\":\"galleryCard_checked__2VcNi\",\"unchecked\":\"galleryCard_unchecked__3iFqn\",\"cardImg\":\"galleryCard_cardImg__2c0u7\",\"name\":\"galleryCard_name__1-D7D\",\"content\":\"galleryCard_content__1jmcp\",\"trash\":\"galleryCard_trash__1ApPZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryContainer\":\"gallery_galleryContainer__3bkJl\"};"],"sourceRoot":""}