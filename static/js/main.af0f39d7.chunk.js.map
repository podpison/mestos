{"version":3,"sources":["api/api.ts","redux/mainContentReducer.ts","redux/loginReducer.ts","components/modals/RegistrationModal.tsx","components/modals/LoginModal.tsx","components/header/Header.tsx","components/header/HeaderContainer.tsx","components/mainContent/gallery/galleryCard/GalleryCard.tsx","components/mainContent/gallery/Gallery.tsx","assets/img/editButton.svg","components/modals/PersonalInformationModal.tsx","components/modals/AddGalleryCardModal.tsx","components/modals/UpdateAvatarModal.tsx","components/mainContent/personInformation/PersonInformation.tsx","assets/img/addButton.png","components/mainContent/MainContent.tsx","components/mainContent/MainContentContainer.ts","App.tsx","AppContainer.tsx","redux/store.ts","index.tsx","components/modals/modals.module.css","components/mainContent/personInformation/personalInformation.module.css","components/header/header.module.css","components/mainContent/gallery/galleryCard/galleryCard.module.css","components/mainContent/gallery/gallery.module.css"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","analytics","fs","firestore","storage","loginAPI","signUp","email","password","a","auth","createUserWithEmailAndPassword","catch","error","response","user","uid","signIn","signInWithEmailAndPassword","logOut","signOut","emailVerefication","userCredential","currentUser","sendEmailVerification","userAPI","initializeUser","Promise","resolve","reject","unsubscribe","onAuthStateChanged","uc","setUser","nameAndLastName","profession","id","collection","doc","set","galleryCards","avatar","photoURL","getUser","get","data","galleryCardsAPI","setGalleryCard","img","name","userId","imgRef","ref","child","put","getDownloadURL","imgUrl","update","FieldValue","arrayUnion","src","isLiked","updateIsLiked","userDoc","currentCardIndex","findIndex","c","deleteGalleryCard","filtredGalleryCards","filter","refFromURL","delete","personalInformationAPI","updatePersonalInformation","updateAvatar","avatarRef","avatarUrl","initialState","personalInformation","mainContentActions","card","type","cards","newAvatar","isAuthorized","errors","loginActions","setIsAuthorized","boolean","setError","clearErrors","RegistrationModal","closeModal","useState","setNameAndLastName","isNameAndLastNameError","setIsNameAndLastNameError","setProfession","isProfessionError","setIsProfessionError","setEmail","setPassword","isGetEmailVerefication","setIsGetEmailVerefication","onCloseModal","Modal","className","modalContainer","onClose","open","Grid","gridContainer","container","direction","justifyContent","alignItems","modal","item","sign","TextField","fullWidth","label","value","onChange","e","target","length","helperText","Checkbox","emailVereficationCheckbox","onClick","checked","buttonContainer","Button","saveButton","variant","LoginModal","Header","isRegistrationModalOpen","setIsRegistrationModalOpen","isLoginModalOpen","setIsLoginModalOpen","header","logo","mestos","russia","buttons","button","HeaderContainer","connect","state","login","dispatch","undefined","userInformation","GalleryCard","onLikeClick","xs","sm","md","lg","xl","CardMedia","cardImg","image","CardContent","content","trash","like","checkedIcon","icon","unchecked","Gallery","Card","map","galleryContainer","spacing","PersonalInformationWindow","isNameAndLastNameFieldError","isProfessionFieldError","personalInformationModal","personalInformationSign","disabled","onSaveButtonClick","AddGalleryCardModal","addGalleryCard","setImg","setName","addGalleryCardModal","component","files","hidden","inputProps","maxLength","UpdateAvatarModal","setAvatar","PersonalInformation","isPersonalInformationModalOpen","setIsPersonalInformationModalOpen","isAddGalleryCardModalOpen","setIsAddGalleryCardModalOpen","isUpdateAvatarOpen","setIsUpdateAvatarOpen","personalInformationContainer","PersonalInformationModal","avatarContainer","Avatar","mainInformationAndAddButtonContainer","mainInformation","nameContainer","editButton","alt","addButtonContainer","addGalleryCardContainer","MainContent","MainContentContainer","mainContent","newGalleryCards","App","useEffect","StylesProvider","injectFirst","AppContainer","reducers","combineReducers","action","errorCode","code","includes","message","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.af0f39d7.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport 'firebase/analytics';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\nimport 'firebase/auth';\r\nimport { User } from '@firebase/auth-types';\r\nimport { GalleryCardType } from \"../redux/mainContentReducer\";\r\n\r\nlet firebaseConfig = {\r\n    apiKey: \"AIzaSyCmVSirreqo2Yg5J0DILaNDeS_nmHVlM4g\",\r\n    authDomain: \"mestos-2f5b4.firebaseapp.com\",\r\n    projectId: \"mestos-2f5b4\",\r\n    storageBucket: \"mestos-2f5b4.appspot.com\",\r\n    messagingSenderId: \"705771100749\",\r\n    appId: \"1:705771100749:web:3e88e7fbe7cb2710951a04\",\r\n    measurementId: \"G-VL1H3VE362\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nfirebase.analytics();\r\n\r\nlet fs = firebase.firestore();\r\nlet storage = firebase.storage();\r\n\r\nexport let loginAPI = {\r\n    signUp: async (email: string, password: string) => {\r\n        let response = await firebase.auth().createUserWithEmailAndPassword(email, password)\r\n        .catch(error => error);\r\n        if (response.user) return response.user.uid;\r\n        return response;\r\n    },\r\n    signIn: async (email: string, password: string) => {\r\n        let response = await firebase.auth().signInWithEmailAndPassword(email, password)\r\n        .catch(error => error);\r\n        if (response.user) return response.user.uid;\r\n        return response;\r\n    },\r\n    logOut: async () => {\r\n        return await firebase.auth().signOut();\r\n    },\r\n    emailVerefication: async (): Promise<any> => {\r\n        let userCredential = firebase.auth().currentUser;\r\n        if (userCredential) {\r\n            return await userCredential.sendEmailVerification();\r\n        }\r\n    }\r\n};\r\n\r\nexport let userAPI = {\r\n    initializeUser: async (): Promise<string | null> => {\r\n        let userCredential: User | null = await new Promise((resolve, reject) => {\r\n            let unsubscribe = firebase.auth().onAuthStateChanged(uc => {\r\n                resolve(uc);\r\n                unsubscribe();\r\n            });\r\n        });\r\n        if (userCredential) return userCredential.uid;\r\n        return userCredential; //it'll return null\r\n    },\r\n    setUser: async (nameAndLastName: string, profession: string, id: string | undefined) => {\r\n        if (id) {\r\n            return await fs.collection('users').doc(id).set({\r\n                nameAndLastName,\r\n                profession,\r\n                galleryCards: [],\r\n                avatar: firebase.auth().currentUser?.photoURL\r\n            });\r\n        };\r\n    },\r\n    getUser: async (id: string) => {\r\n        let doc = await fs.collection('users').doc(id).get();\r\n        return doc.data();\r\n    }\r\n};\r\n\r\nexport let galleryCardsAPI = {\r\n    setGalleryCard: async (img: File, name: string): Promise<string> => {\r\n        //userId must be here\r\n        let userId = firebase.auth().currentUser!.uid;\r\n        let imgRef = storage.ref().child('users').child(userId).child(img.name);\r\n        await imgRef.put(img);\r\n        let imgUrl = await imgRef.getDownloadURL()\r\n        fs.collection('users').doc(userId).update({\r\n            galleryCards: firebase.firestore.FieldValue.arrayUnion({\r\n                name,\r\n                src: imgUrl,\r\n                isLiked: false\r\n            })\r\n        });\r\n        return imgUrl;\r\n    },\r\n    updateIsLiked: async (isLiked: boolean, name: string) => {\r\n        // 0_0\r\n        let userId = firebase.auth().currentUser?.uid;\r\n        let userDoc = await fs.collection('users').doc(userId).get()\r\n        let galleryCards: Array<GalleryCardType> = await userDoc.data()?.galleryCards;\r\n        let currentCardIndex = galleryCards.findIndex(c => c.name === name);\r\n        galleryCards[currentCardIndex].isLiked = isLiked;\r\n        fs.collection('users').doc(userId).update({\r\n            galleryCards\r\n        });\r\n        return galleryCards;\r\n    },\r\n    deleteGalleryCard: async (name: string, img: string) => {\r\n        //userId must be here\r\n        let userId = firebase.auth().currentUser!.uid;\r\n        let userDoc = await fs.collection('users').doc(userId).get();\r\n        let galleryCards: Array<GalleryCardType> = await userDoc.data()?.galleryCards;\r\n        let filtredGalleryCards = galleryCards.filter(c => c.name !== name);\r\n        let imgRef = storage.refFromURL(img);\r\n        await imgRef.delete();\r\n        fs.collection('users').doc(userId).update({\r\n            galleryCards: filtredGalleryCards\r\n        });\r\n        return filtredGalleryCards;\r\n    }\r\n};\r\n\r\nexport let personalInformationAPI = {\r\n    updatePersonalInformation: async (nameAndLastName: string, profession: string) => {\r\n        let userId = firebase.auth().currentUser?.uid;\r\n        return fs.collection('users').doc(userId).update({\r\n            nameAndLastName,\r\n            profession\r\n        });\r\n    },\r\n    updateAvatar: async (avatar: File): Promise<string> => {\r\n        //userId must be here\r\n        let userId = firebase.auth().currentUser!.uid;\r\n        let avatarRef = storage.ref().child('users').child(userId).child(avatar.name);\r\n        await avatarRef.put(avatar);\r\n        let avatarUrl: string = await avatarRef.getDownloadURL()\r\n        fs.collection('users').doc(userId).update({\r\n            avatar: avatarUrl\r\n        });\r\n        return avatarUrl;\r\n    },\r\n};","import { galleryCardsAPI, personalInformationAPI } from \"../api/api\";\r\nimport { ActionsType, BaseThunkType } from \"./store\";\r\n\r\nexport type GalleryCardType = {\r\n    name: string\r\n    src: string\r\n    isLiked: boolean\r\n    id?: number\r\n}\r\n\r\nexport type PersonalInformationType = {\r\n    nameAndLastName: string\r\n    profession: string\r\n}\r\n\r\nlet initialState = {\r\n    galleryCards: [] as Array<GalleryCardType>,\r\n    personalInformation: {\r\n        nameAndLastName: 'You are not authorized',\r\n        profession: 'Here will be your profession',\r\n    } as PersonalInformationType,\r\n    avatar: ''\r\n};\r\n\r\ntype InitialState = typeof initialState;\r\ntype Actions = ActionsType<typeof mainContentActions>;\r\n\r\nexport let mainContentReducer = (state = initialState, action: Actions): InitialState => {\r\n    switch (action.type) {\r\n        case 'mainContent/setGalleryCard':\r\n            return {\r\n                ...state,\r\n                galleryCards: [...state.galleryCards, ...action.card]\r\n            };\r\n        case 'mainContent/setNewGalleryCards':\r\n            return {\r\n                ...state,\r\n                galleryCards: [...action.cards]\r\n            };\r\n        case 'mainContent/setPersonalInformation':\r\n            return {\r\n                ...state,\r\n                personalInformation: {\r\n                    nameAndLastName: action.nameAndLastName,\r\n                    profession: action.profession\r\n                }\r\n            };\r\n        case 'mainContent/setLogOut':\r\n            return {\r\n                ...state,\r\n                galleryCards: [],\r\n                personalInformation: {\r\n                    nameAndLastName: 'You are not authorized',\r\n                    profession: 'Here will be your profession'\r\n                },\r\n                avatar: ''\r\n            };\r\n        case 'mainContent/updateAvatar':\r\n            return {\r\n                ...state,\r\n                avatar: action.newAvatar\r\n            }\r\n        default:\r\n            return { ...state };\r\n    }\r\n}\r\n\r\nexport let mainContentActions = {\r\n    setGalleryCard: (card: Array<GalleryCardType>) => ({ type: 'mainContent/setGalleryCard', card } as const),\r\n    setNewGalleryCards: (cards: Array<GalleryCardType>) => ({type: 'mainContent/setNewGalleryCards', cards} as const),\r\n    setPersonalInformation: (nameAndLastName: string, profession: string) => ({ type: 'mainContent/setPersonalInformation', nameAndLastName, profession }) as const,\r\n    setLogOut: () => ({ type: 'mainContent/setLogOut' } as const),\r\n    updateAvatar: (newAvatar: string) => ({ type: 'mainContent/updateAvatar', newAvatar} as const)\r\n};\r\n\r\ntype Thunk = BaseThunkType<Actions>;\r\n\r\nexport let addGalleryCard = (img: File, name: string): Thunk => async (dispatch) => {\r\n    let imgUrl = await galleryCardsAPI.setGalleryCard(img, name);\r\n    dispatch(mainContentActions.setGalleryCard([{ src: imgUrl, name, isLiked: false }]));\r\n};\r\n\r\nexport let updatePersonalInformation = (nameAndLastName: string, profession: string): Thunk => async (dispatch) => {\r\n    await personalInformationAPI.updatePersonalInformation(nameAndLastName, profession);\r\n    dispatch(mainContentActions.setPersonalInformation(nameAndLastName, profession));\r\n};\r\n\r\nexport let updateIsLiked = (isLiked: boolean, name: string): Thunk => async (dispatch) => {\r\n    let newGalleryCards = await galleryCardsAPI.updateIsLiked(isLiked, name);\r\n    dispatch(mainContentActions.setNewGalleryCards(newGalleryCards));\r\n};\r\n\r\nexport let updateAvatar = (newAvatar: File): Thunk => async (dispatch) => {\r\n    let avatarUrl = await personalInformationAPI.updateAvatar(newAvatar);\r\n    dispatch(mainContentActions.updateAvatar(avatarUrl));\r\n};\r\n\r\nexport let deleteGalleryCard = (name: string, img: string): Thunk => async (dispatch) => {\r\n    let newGalleryCards = await galleryCardsAPI.deleteGalleryCard(name, img);\r\n    dispatch(mainContentActions.setNewGalleryCards(newGalleryCards));\r\n};","import { loginAPI, userAPI } from \"../api/api\";\r\nimport { mainContentActions } from \"./mainContentReducer\";\r\nimport { ActionsType, BaseThunkType } from \"./store\";\r\nimport { FirebaseError } from '@firebase/util';\r\n\r\nlet initialState = {\r\n    isAuthorized: false,\r\n    errors: {\r\n        email: '',\r\n        password: ''\r\n    }\r\n};\r\n\r\nexport type LoginErrors = typeof initialState.errors;\r\n\r\ntype InitialState = typeof initialState;\r\ntype Actions = ActionsType<typeof loginActions>;\r\n\r\nexport let loginReducer = (state = initialState, action: Actions): InitialState => {\r\n    switch (action.type) {\r\n        case 'login/setIsAuthorized':\r\n            return { ...state, isAuthorized: action.boolean };\r\n        case 'login/setError':\r\n            let errorCode = action.error.code;\r\n            if (errorCode.includes('email' || 'auth')) {\r\n                return {...state, errors: {...state.errors, email: action.error.message}};\r\n            } else if (errorCode.includes('password')) {\r\n                // the problem is in the password and email error must be clered\r\n                return {...state, errors: {...state.errors, email: '', password: action.error.message}}\r\n            };\r\n            return {...state};\r\n        case 'login/clearErrors':\r\n            return {...state, errors: {email: '', password: ''}};\r\n        default:\r\n            return { ...state };\r\n    }\r\n}\r\n\r\nexport let loginActions = {\r\n    setIsAuthorized: (boolean: boolean) => ({ type: 'login/setIsAuthorized', boolean } as const),\r\n    setError: (error: FirebaseError) => ({ type: 'login/setError', error } as const),\r\n    clearErrors: () => ({ type: 'login/clearErrors' } as const)\r\n};\r\n\r\ntype Thunk = BaseThunkType<Actions | ReturnType<typeof mainContentActions.setPersonalInformation> | ReturnType<typeof mainContentActions.setGalleryCard> | ReturnType<typeof mainContentActions.setLogOut> | ReturnType<typeof mainContentActions.updateAvatar>>;\r\n\r\nexport let initializeUser = (): Thunk => async (dispatch) => {\r\n    let userId = await userAPI.initializeUser();\r\n    if (userId) {\r\n        let userInformation = await userAPI.getUser(userId);\r\n        if (userInformation) {\r\n            dispatch(mainContentActions.setPersonalInformation(userInformation.nameAndLastName, userInformation.profession));\r\n            dispatch(mainContentActions.updateAvatar(userInformation.avatar));\r\n            dispatch(mainContentActions.setGalleryCard(userInformation.galleryCards));\r\n            dispatch(loginActions.setIsAuthorized(true));\r\n        };\r\n    };\r\n};\r\n\r\nexport let signUp = (nameAndLastName: string, profession: string, email: string, password: string, isGetEmailVerefication: boolean): Thunk => async (dispatch) => {\r\n    let response = await loginAPI.signUp(email, password);\r\n    if (typeof response === 'string') {\r\n        await userAPI.setUser(nameAndLastName, profession, response);\r\n        dispatch(loginActions.clearErrors());\r\n        dispatch(mainContentActions.setPersonalInformation(nameAndLastName, profession));\r\n        dispatch(loginActions.setIsAuthorized(true));\r\n        if (isGetEmailVerefication) await loginAPI.emailVerefication();\r\n    } else if (response !== 'undefined') {\r\n        dispatch(loginActions.setError(response));\r\n    };\r\n};\r\n\r\nexport let signIn = (email: string, password: string): Thunk => async (dispatch) => {\r\n    let response = await loginAPI.signIn(email, password);\r\n    if (typeof response === 'string') {\r\n        let userInformation = await userAPI.getUser(response);\r\n        if (userInformation !== undefined) {\r\n            dispatch(loginActions.clearErrors());\r\n            dispatch(mainContentActions.setPersonalInformation(userInformation.nameAndLastName, userInformation.profession));\r\n            dispatch(mainContentActions.updateAvatar(userInformation.avatar));\r\n            dispatch(mainContentActions.setGalleryCard(userInformation.galleryCards));\r\n            dispatch(loginActions.setIsAuthorized(true));\r\n        };\r\n    } else if (typeof response !== 'undefined') {\r\n        dispatch(loginActions.setError(response));\r\n    }\r\n};\r\n\r\nexport let logOut = (): Thunk => async (dispatch) => {\r\n    await loginAPI.logOut();\r\n    dispatch(loginActions.setIsAuthorized(false));\r\n    dispatch(mainContentActions.setLogOut());\r\n};","import { Button, Grid, Modal, TextField, Checkbox } from '@material-ui/core';\r\nimport { useState } from 'react';\r\nimport { LoginErrors } from '../../redux/loginReducer';\r\nimport c from './modals.module.css';\r\n\r\ntype Props = {\r\n    signUp: (nameAndLastName: string, profession: string, email: string, password: string, isGetEmailVerefication: boolean) => void;\r\n    closeModal: () => void\r\n    errors: LoginErrors\r\n    clearErrors: () => void\r\n}\r\n\r\nlet RegistrationModal = ({signUp, closeModal, errors, clearErrors}: Props) => {\r\n    let [nameAndLastName, setNameAndLastName] = useState('');\r\n    let [isNameAndLastNameError, setIsNameAndLastNameError] = useState(false);\r\n    let [profession, setProfession] = useState('');\r\n    let [isProfessionError, setIsProfessionError] = useState(false);\r\n    // these errors come here from an errors object because they are from firebase\r\n    let [email, setEmail] = useState('');\r\n    let [password, setPassword] = useState('');\r\n\r\n    let [isGetEmailVerefication, setIsGetEmailVerefication] = useState(false);\r\n\r\n    let saveData = () => {\r\n        nameAndLastName.length === 0 ? setIsNameAndLastNameError(true) : setIsNameAndLastNameError(false);\r\n        profession.length === 0 ? setIsProfessionError(true) : setIsProfessionError(false);\r\n        (nameAndLastName.length && profession.length !== 0) && signUp(nameAndLastName, profession, email, password, isGetEmailVerefication);\r\n        errors.email.length === 0 && errors.password.length === 0 && onCloseModal();\r\n    };\r\n\r\n    let onCloseModal = () => {\r\n        closeModal();\r\n        clearErrors()\r\n        setNameAndLastName('');\r\n        setProfession('');\r\n        setEmail('');\r\n        setPassword('');\r\n    };\r\n\r\n    return <Modal className={c.modalContainer} onClose={onCloseModal} open={true} >\r\n        <Grid className={c.gridContainer} container direction='column' justifyContent='center' alignItems='center'>\r\n            <div className={c.modal}>\r\n                <Grid item>\r\n                    <h2 className={c.sign}>sign up</h2>\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={isNameAndLastNameError}\r\n                    fullWidth={true}\r\n                    label='name and last name'\r\n                    value={nameAndLastName}\r\n                    onChange={(e) => setNameAndLastName(e.target.value)} \r\n                    />\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={isProfessionError}\r\n                    fullWidth={true}\r\n                    label='profession'\r\n                    value={profession}\r\n                    onChange={(e) => setProfession(e.target.value)}\r\n                    />\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={errors.email.length !== 0}\r\n                    helperText={errors.email}\r\n                    fullWidth={true}\r\n                    type='email'\r\n                    label='email'\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    />\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={errors.password.length !== 0}\r\n                    helperText={errors.password}\r\n                    fullWidth={true}\r\n                    type='password'\r\n                    label='password'\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                </Grid>\r\n                <Grid item>\r\n                    <div className={c.emailVerefication}>  \r\n                        <Checkbox className={c.emailVereficationCheckbox} onClick={() => setIsGetEmailVerefication(!isGetEmailVerefication)} checked={isGetEmailVerefication} />\r\n                        <p>Подтвердить почту</p>\r\n                    </div>\r\n                </Grid>\r\n                <Grid className={c.buttonContainer} item>\r\n                    <Button\r\n                    fullWidth={true}\r\n                    className={c.saveButton}\r\n                    onClick={saveData}\r\n                    variant='contained'>Сохранить</Button>\r\n                </Grid>\r\n            </div>\r\n        </Grid>\r\n    </Modal>\r\n}\r\n\r\nexport default RegistrationModal;","import { Button, Grid, Modal, TextField } from '@material-ui/core';\r\nimport { useState } from 'react';\r\nimport { LoginErrors } from '../../redux/loginReducer';\r\nimport c from './modals.module.css';\r\n\r\ntype Props = {\r\n    signIn: (email: string, password: string) => void\r\n    closeModal: () => void\r\n    errors: LoginErrors\r\n    clearErrors: () => void\r\n}\r\n\r\nlet LoginModal = ({signIn, closeModal, errors, clearErrors}: Props) => {\r\n\r\n    let [email, setEmail] = useState('');\r\n    let [password, setPassword] = useState('');\r\n\r\n    let saveData = () => {\r\n        signIn(email, password);\r\n        errors.email.length === 0 && errors.password.length === 0 && onCloseModal();\r\n    };\r\n\r\n    let onCloseModal = () => {\r\n        closeModal();\r\n        clearErrors()\r\n        setEmail('');\r\n        setPassword('');\r\n    };\r\n\r\n    return <Modal className={c.modalContainer} onClose={onCloseModal} open={true} >\r\n        <Grid className={c.gridContainer} container direction='column' justifyContent='center' alignItems='center'>\r\n            <div className={c.modal}>\r\n                <Grid item>\r\n                    <h2 className={c.sign}>sign in</h2>\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={errors.email.length !== 0}\r\n                    helperText={errors.email}\r\n                    fullWidth={true}\r\n                    label='email'\r\n                    type='email'\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)} />\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField\r\n                    error={errors.password.length !== 0}\r\n                    helperText={errors.password}\r\n                    fullWidth={true}\r\n                    label='password'\r\n                    type='password'\r\n                    value={password} \r\n                    onChange={(e) => setPassword(e.target.value)} />\r\n                </Grid>\r\n                <Grid className={c.buttonContainer} item>\r\n                    <Button\r\n                    fullWidth={true}\r\n                    className={c.saveButton}\r\n                    onClick={saveData}\r\n                    variant='contained'>Сохранить</Button>\r\n                </Grid>\r\n            </div>\r\n        </Grid>\r\n    </Modal>\r\n}\r\n\r\nexport default LoginModal;","import { Button } from '@material-ui/core';\r\nimport { useState } from 'react';\r\nimport RegistrationModal from '../modals/RegistrationModal';\r\nimport LoginModal from '../modals/LoginModal';\r\nimport c from './header.module.css';\r\nimport { LoginErrors } from '../../redux/loginReducer';\r\n\r\ntype Props = {\r\n    isAuthorized: boolean\r\n    errors: LoginErrors\r\n    clearErrors: () => void\r\n    signUp: (nameAndLastName: string, profession: string, email: string, password: string, isGetEmailVerefication: boolean) => void\r\n    signIn: (email: string, password: string) => void\r\n    logOut: () => void\r\n}\r\n\r\nlet Header = ({clearErrors, errors, isAuthorized, signUp, signIn, logOut}: Props) => {\r\n\r\n    let [isRegistrationModalOpen, setIsRegistrationModalOpen] = useState(false);\r\n    let closeRegistrationModal = () => setIsRegistrationModalOpen(false);\r\n\r\n    let [isLoginModalOpen, setIsLoginModalOpen] = useState(false);\r\n    let closeLoginModal = () => setIsLoginModalOpen(false);\r\n\r\n    return (\r\n        <header>\r\n            {isRegistrationModalOpen && <RegistrationModal clearErrors={clearErrors} errors={errors} signUp={signUp} closeModal={closeRegistrationModal} />}\r\n            {isLoginModalOpen && <LoginModal clearErrors={clearErrors} errors={errors} signIn={signIn} closeModal={closeLoginModal} />}\r\n                <div className={c.header}>\r\n                    <div className={c.logo}>\r\n                        <h2 className={c.mestos}>Mestos</h2>\r\n                        <p className={c.russia}>Russia</p>\r\n                    </div>\r\n                    <div>\r\n                        {isAuthorized ? <p className={c.logOut} onClick={logOut}>log out</p> : \r\n                            <div className={c.buttons}>\r\n                                <Button className={c.button} onClick={() => setIsRegistrationModalOpen(true)}>Log up</Button>\r\n                                <Button className={c.button} onClick={() => setIsLoginModalOpen(true)}>Log in</Button>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            <hr />\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Header;\r\n","import { connect } from \"react-redux\";\r\nimport { signUp, signIn, logOut, loginActions } from \"../../redux/loginReducer\";\r\nimport { AppState } from \"../../redux/store\";\r\nimport Header from \"./Header\";\r\n\r\nlet mapStateToProps = (state: AppState) => {\r\n    return {\r\n        isAuthorized: state.login.isAuthorized,\r\n        errors: state.login.errors\r\n    }\r\n}\r\n\r\nlet HeaderContainer = connect(mapStateToProps, {clearErrors: loginActions.clearErrors, signUp, signIn, logOut})(Header);\r\n\r\nexport default HeaderContainer;","import { Card, CardContent, CardMedia, Grid, Checkbox } from \"@material-ui/core\"\r\nimport UncheckedIcon from '@material-ui/icons/FavoriteBorderOutlined';\r\nimport CheckedIcon from '@material-ui/icons/Favorite';\r\nimport c from './galleryCard.module.css';\r\nimport DeleteIcon from '@material-ui/icons/DeleteOutline';\r\n\r\ntype Props = {\r\n    src: string\r\n    name: string\r\n    isLiked: boolean\r\n    updateIsLiked: (isLiked: boolean, name: string) => void\r\n    deleteGalleryCard: (name: string, img: string) => void\r\n};\r\n\r\nlet GalleryCard = ({src, name, isLiked, updateIsLiked, deleteGalleryCard}: Props) => {\r\n\r\n    let onLikeClick = async () => {\r\n        updateIsLiked(!isLiked, name);\r\n    }\r\n\r\n    return <Grid item xs={12} sm={6} md={4} lg={3} xl={2} >\r\n        <Card>\r\n            <CardMedia className={c.cardImg} image={src} />\r\n            <CardContent className={c.content}>\r\n                <DeleteIcon className={c.trash} onClick={() => deleteGalleryCard(name, src)} />\r\n                <p className={c.name}>{name}</p>\r\n                <Checkbox checked={isLiked} onClick={onLikeClick} className={c.like} checkedIcon={<CheckedIcon className={c.checked} />} icon={<UncheckedIcon className={c.unchecked} />} />\r\n            </CardContent>\r\n        </Card>\r\n    </Grid>\r\n}\r\n\r\nexport default GalleryCard;","import c from './gallery.module.css';\r\nimport { Grid } from \"@material-ui/core\"\r\nimport GalleryCard from './galleryCard/GalleryCard';\r\nimport { GalleryCardType } from '../../../redux/mainContentReducer';\r\n\r\ntype Props = {\r\n    galleryCards: Array<GalleryCardType>\r\n    updateIsLiked: (isLiked: boolean, name: string) => void\r\n    deleteGalleryCard: (name: string, img: string) => void\r\n}  \r\n\r\nlet Gallery = ({deleteGalleryCard, galleryCards, updateIsLiked}: Props) => {\r\n    let Card = galleryCards.map(c => <GalleryCard deleteGalleryCard={deleteGalleryCard} updateIsLiked={updateIsLiked} name={c.name} src={c.src} isLiked={c.isLiked} key={c.name} />);\r\n\r\n    return <div className={c.galleryContainer}>\r\n        <Grid container spacing={1}>\r\n            {Card}\r\n        </Grid>\r\n    </div>\r\n};\r\n\r\nexport default Gallery;","export default __webpack_public_path__ + \"static/media/editButton.af236f6c.svg\";","import { Modal, TextField, Button, Grid } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { PersonalInformationType } from \"../../redux/mainContentReducer\";\r\nimport c from './modals.module.css';\r\n\r\ntype Props = {\r\n    personalInformation: PersonalInformationType\r\n    updatePersonalInformation: (nameAndLastName: string, profession: string) => void\r\n    closeModal: () => void\r\n};\r\n\r\nlet PersonalInformationWindow = ({ closeModal, updatePersonalInformation, personalInformation }: Props) => {\r\n\r\n    let [nameAndLastName, setNameAndLastName] = useState(personalInformation.nameAndLastName);\r\n    let [profession, setProfession] = useState(personalInformation.profession);\r\n\r\n    let onSaveButtonClick = (nameAndLastName: string, profession: string) => {\r\n        updatePersonalInformation(nameAndLastName, profession);\r\n        closeModal();\r\n    };\r\n\r\n    let onCloseModal = () => {\r\n        closeModal();\r\n        setNameAndLastName('');\r\n        setProfession('');\r\n    }\r\n\r\n    let isNameAndLastNameFieldError = nameAndLastName.length >= 28 || nameAndLastName.length === 0;\r\n    let isProfessionFieldError = profession.length >= 30 || profession.length === 0;\r\n\r\n    return <div>\r\n        <Modal className={`${c.modalContainer} ${c.personalInformationModal}`} onClose={onCloseModal} open={true} >\r\n            <Grid className={c.gridContainer} container direction='column' justifyContent='center' alignItems='center'>\r\n                <div className={c.modal}>\r\n                    <Grid item>\r\n                        <h2 className={`${c.sign} ${c.personalInformationSign}`}>Редактировать профиль</h2>\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <TextField\r\n                            error={isNameAndLastNameFieldError}\r\n                            fullWidth={true}\r\n                            label='name and last name'\r\n                            value={nameAndLastName}\r\n                            onChange={(e) => setNameAndLastName(e.target.value)}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <TextField\r\n                            error={isProfessionFieldError}\r\n                            fullWidth={true}\r\n                            label='profession'\r\n                            value={profession}\r\n                            onChange={(e) => setProfession(e.target.value)}\r\n                        />\r\n                    </Grid>\r\n                    <Grid className={c.buttonContainer} item>\r\n                        <Button\r\n                            disabled={isNameAndLastNameFieldError || isProfessionFieldError}\r\n                            fullWidth={true}\r\n                            className={c.saveButton}\r\n                            onClick={() => onSaveButtonClick(nameAndLastName, profession)}\r\n                            variant='contained'>Сохранить</Button>\r\n                    </Grid>\r\n                </div>\r\n            </Grid>\r\n        </Modal>\r\n    </div>\r\n};\r\n\r\nexport default PersonalInformationWindow;","import { Modal, TextField, Button, Grid } from \"@material-ui/core\";\r\nimport { ChangeEvent, useState } from \"react\";\r\nimport c from './modals.module.css';\r\n\r\ntype Props = {\r\n    addGalleryCard: (img: File, name: string) => void\r\n    closeModal: () => void\r\n};\r\n\r\nlet AddGalleryCardModal = ({ addGalleryCard, closeModal }: Props) => {\r\n\r\n    let [img, setImg] = useState<File>({} as File);\r\n    let [name, setName] = useState('');\r\n\r\n    let saveButton = () => {\r\n        addGalleryCard(img, name);\r\n        closeModal();\r\n    };\r\n\r\n    let onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files !== null) {\r\n            setImg(e.target.files[0]);\r\n        };\r\n    };\r\n\r\n    let onCloseModal = () => {\r\n        closeModal();\r\n        setImg({} as File);\r\n        setName('');\r\n    };\r\n\r\n    return <Modal className={`${c.modalContainer} ${c.addGalleryCardModal}`} onClose={onCloseModal} open={true} >\r\n        <Grid className={c.gridContainer} container direction='column' justifyContent='center' alignItems='center'>\r\n            <div className={c.modal}>\r\n                <Grid item>\r\n                    <h2 className={c.sign}>Добавить карточку в галлерею</h2>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button fullWidth={true} component='label' variant='contained'>Выбрать фотографию <input type='file' onChange={onInputChange} hidden /></Button>\r\n                    <div>{img.name}</div>\r\n                </Grid>\r\n                <Grid item>\r\n                    <TextField error={name.length >= 16} inputProps={{maxLength: 16}} fullWidth={true} label='Название' value={name} onChange={(e) => setName(e.target.value)} />\r\n                </Grid>\r\n                <Grid className={c.buttonContainer} item>\r\n                    <Button disabled={name.length === 0 || name.length >= 16 || !img.name} fullWidth={true} className={c.saveButton} onClick={saveButton} variant='contained'>Сохранить</Button>\r\n                </Grid>\r\n            </div>\r\n        </Grid>\r\n    </Modal>\r\n};\r\n\r\nexport default AddGalleryCardModal;","import { Button, Grid, Modal } from '@material-ui/core';\r\nimport { ChangeEvent, useState } from 'react';\r\nimport c from './modals.module.css';\r\n\r\ntype Props = {\r\n    closeModal: () => void\r\n    updateAvatar: (newAvatar: File) => void\r\n}\r\n\r\nlet UpdateAvatarModal = ({closeModal, updateAvatar}: Props) => {\r\n\r\n    let [avatar, setAvatar] = useState<File>({} as File);\r\n\r\n    let saveData = () => {\r\n        updateAvatar(avatar);\r\n        closeModal();\r\n    };\r\n\r\n    let onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files !== null) {\r\n            setAvatar(e.target.files[0]);\r\n        };\r\n    };\r\n\r\n    let onCloseModal = () => {\r\n        setAvatar({} as File);\r\n        closeModal();\r\n    };\r\n\r\n    return <Modal className={c.modalContainer} onClose={onCloseModal} open={true} >\r\n        <Grid className={c.gridContainer} container direction='column' justifyContent='center' alignItems='center'>\r\n            <div className={c.modal}>\r\n                <Grid item>\r\n                    <h2 className={c.sign}>Choose new avatar</h2>\r\n                </Grid>\r\n                <Grid item>\r\n                    <Button fullWidth={true} component='label' variant='contained'>Choose new avatar <input type='file' onChange={onInputChange} hidden /></Button>\r\n                    <div>{avatar.name}</div>\r\n                </Grid>\r\n                <Grid className={c.buttonContainer} item>\r\n                    <Button fullWidth={true} className={c.saveButton} onClick={saveData} variant='contained'>Сохранить</Button>\r\n                </Grid>\r\n            </div>\r\n        </Grid>\r\n    </Modal>\r\n}\r\n\r\nexport default UpdateAvatarModal;","import { Avatar, Button } from '@material-ui/core';\r\nimport editButton from './../../../assets/img/editButton.svg';\r\nimport addButton from './../../../assets/img/addButton.png';\r\nimport c from './personalInformation.module.css';\r\nimport { PersonalInformationType } from '../../../redux/mainContentReducer';\r\nimport PersonalInformationModal from '../../modals/PersonalInformationModal';\r\nimport { useState } from 'react';\r\nimport AddGalleryCardModal from '../../modals/AddGalleryCardModal';\r\nimport UpdateAvatarModal from '../../modals/UpdateAvatarModal';\r\n\r\ntype Props = {\r\n    personalInformation: PersonalInformationType\r\n    isAuthorized: boolean\r\n    avatar: string\r\n    updatePersonalInformation: (nameAndLastName: string, profession: string) => void\r\n    addGalleryCard: (img: File, name: string) => void\r\n    updateAvatar: (newAvatar: File) => void\r\n}\r\n\r\nlet PersonalInformation = ({avatar, updateAvatar, addGalleryCard, updatePersonalInformation, personalInformation, isAuthorized}: Props) => {\r\n\r\n    let [isPersonalInformationModalOpen, setIsPersonalInformationModalOpen] = useState(false);\r\n    let closePersonalInformationModal = () => setIsPersonalInformationModalOpen(false);\r\n    \r\n    let [isAddGalleryCardModalOpen, setIsAddGalleryCardModalOpen] = useState(false);\r\n    let closeAddGalleryCardModal = () => setIsAddGalleryCardModalOpen(false);\r\n\r\n    let [isUpdateAvatarOpen, setIsUpdateAvatarOpen] = useState(false);\r\n    let closeUpdateAvatarModal = () => setIsUpdateAvatarOpen(false);\r\n    \r\n    return <div className={c.personalInformationContainer}>\r\n        {isPersonalInformationModalOpen && <PersonalInformationModal updatePersonalInformation={updatePersonalInformation} personalInformation={personalInformation} closeModal={closePersonalInformationModal} />}\r\n        {isAddGalleryCardModalOpen && <AddGalleryCardModal addGalleryCard={addGalleryCard} closeModal={closeAddGalleryCardModal} />}\r\n        {isUpdateAvatarOpen && <UpdateAvatarModal closeModal={closeUpdateAvatarModal} updateAvatar={updateAvatar} />}\r\n        <Button className={c.avatarContainer} disabled={!isAuthorized}>\r\n            <Avatar onClick={() => setIsUpdateAvatarOpen(true)} className={c.avatar} src={avatar} />\r\n        </Button>\r\n        <div className={c.mainInformationAndAddButtonContainer}>\r\n        <div className={c.mainInformation}>\r\n            <div className={c.nameContainer}>\r\n                <p className={c.name}>{personalInformation.nameAndLastName}</p>\r\n                <Button onClick={() => setIsPersonalInformationModalOpen(true)} className={c.button} disabled={!isAuthorized}>\r\n                    <img className={c.editButton} src={editButton} alt='edit button' />\r\n                </Button>\r\n            </div>\r\n            <p className={c.profession}>{personalInformation.profession}</p>\r\n        </div>\r\n        <div className={c.addButtonContainer}>\r\n            <Button className={c.addGalleryCardContainer} disabled={!isAuthorized}>\r\n                <img className={c.addGalleryCard} onClick={() => setIsAddGalleryCardModalOpen(true)} src={addButton} alt='add button' />\r\n            </Button>\r\n        </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default PersonalInformation;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABYSURBVHgB7ZTBCQAhDARzx/VzlqAlWYmt2dGah6A/F1E/ZmAhj+w8RCJCAMCj4ZnOK5swsYkPij/yw//d7LQzLDxgtibY9xSaQOw5Tapz1GRZgR0hE98qLoUTKea0/ImAAAAAAElFTkSuQmCC\"","// import c from './mainContent.module.css';\r\nimport { GalleryCardType, PersonalInformationType } from '../../redux/mainContentReducer';\r\nimport Gallery from './gallery/Gallery';\r\nimport PersonalInformation from './personInformation/PersonInformation';\r\n\r\ntype Props = {\r\n    galleryCards: Array<GalleryCardType>\r\n    personalInformation: PersonalInformationType\r\n    isAuthorized: boolean\r\n    avatar: string\r\n    updatePersonalInformation: (nameAndLastName: string, profession: string) => void\r\n    addGalleryCard: (img: File, name: string) => void\r\n    updateIsLiked: (isLiked: boolean, name: string) => void\r\n    updateAvatar: (newAvatar: File) => void\r\n    deleteGalleryCard: (name: string, img: string) => void\r\n}\r\n\r\nlet MainContent = ({deleteGalleryCard, updateAvatar, galleryCards, isAuthorized, avatar, addGalleryCard, updateIsLiked, personalInformation, updatePersonalInformation}: Props) => {\r\n    return <div>\r\n        <PersonalInformation avatar={avatar} updateAvatar={updateAvatar} updatePersonalInformation={updatePersonalInformation} isAuthorized={isAuthorized} personalInformation={personalInformation} addGalleryCard={addGalleryCard} />\r\n        <Gallery deleteGalleryCard={deleteGalleryCard} updateIsLiked={updateIsLiked} galleryCards={galleryCards} />\r\n    </div>\r\n};\r\n\r\nexport default MainContent;","import { connect } from \"react-redux\";\r\nimport { addGalleryCard, deleteGalleryCard, updateAvatar, updateIsLiked, updatePersonalInformation } from \"../../redux/mainContentReducer\";\r\nimport { AppState } from \"../../redux/store\";\r\nimport MainContent from \"./MainContent\";\r\n\r\nlet mapStateToProps = (state: AppState) => {\r\n    return {\r\n        galleryCards: state.mainContent.galleryCards,\r\n        personalInformation: state.mainContent.personalInformation,\r\n        avatar: state.mainContent.avatar,\r\n        isAuthorized: state.login.isAuthorized\r\n    }\r\n}\r\n\r\nlet MainContentContainer = connect(mapStateToProps, {deleteGalleryCard, updateAvatar, updateIsLiked, addGalleryCard, updatePersonalInformation})(MainContent);\r\n\r\nexport default MainContentContainer;","import './App.css';\r\nimport HeaderContainer from './components/header/HeaderContainer';\r\nimport MainContentContainer from './components/mainContent/MainContentContainer';\r\nimport { StylesProvider } from '@material-ui/core/styles';\r\nimport { useEffect } from 'react';\r\n\r\ntype Props = {\r\n  initializeUser: () => void\r\n};\r\n\r\nfunction App({ initializeUser }: Props) {\r\n\r\n  useEffect(() => {\r\n    initializeUser();\r\n    //eslint-disable-next-line\r\n  }, [])\r\n\r\n  return (\r\n    <StylesProvider injectFirst>\r\n      <div className='app'>\r\n        <div className='wrapper'>\r\n          <HeaderContainer />\r\n          <MainContentContainer />\r\n        </div>\r\n      </div>\r\n    </StylesProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { connect } from \"react-redux\";\r\nimport App from \"./App\";\r\nimport { AppState } from \"./redux/store\";\r\nimport { initializeUser } from \"./redux/loginReducer\";\r\n\r\nlet mapStateToProps = (state: AppState) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nlet AppContainer = connect(mapStateToProps, {initializeUser})(App);\r\n\r\nexport default AppContainer;","import { Action, applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport { mainContentReducer } from \"./mainContentReducer\";\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk';\r\nimport { loginReducer } from \"./loginReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    mainContent: mainContentReducer,\r\n    login: loginReducer\r\n});\r\n\r\ntype Reducers = typeof reducers;\r\nexport type AppState = ReturnType<Reducers>;\r\n\r\ntype Properties<T> = T extends {[key: string]: infer U} ? U : never;\r\nexport type ActionsType<T extends {[key: string]: (...args: any[]) => any}> = ReturnType<Properties<T>>;\r\n\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppState, unknown, A>;\r\n\r\n// export let store = createStore(reducers)\r\nexport let store = createStore(reducers, applyMiddleware(thunkMiddleware))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport AppContainer from './AppContainer';\r\nimport { store } from './redux/store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <AppContainer />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridContainer\":\"modals_gridContainer__38ML2\",\"modalContainer\":\"modals_modalContainer__rLQIA\",\"modal\":\"modals_modal__gAT-W\",\"sign\":\"modals_sign__3eSQ1\",\"saveButton\":\"modals_saveButton__pGSpP\",\"buttonContainer\":\"modals_buttonContainer__2CjMk\",\"emailVerefication\":\"modals_emailVerefication__2iz3Y\",\"emailVereficationCheckbox\":\"modals_emailVereficationCheckbox__14MmN\",\"addGalleryCardModal\":\"modals_addGalleryCardModal__37qdV\",\"personalInformationModal\":\"modals_personalInformationModal__2XmnG\",\"personalInformationSign\":\"modals_personalInformationSign__2uGWC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"personalInformation_avatar__1IOPq\",\"nameContainer\":\"personalInformation_nameContainer__3UNig\",\"personalInformationContainer\":\"personalInformation_personalInformationContainer__B6q3e\",\"name\":\"personalInformation_name__39_XT\",\"profession\":\"personalInformation_profession__3173H\",\"button\":\"personalInformation_button__SCt88\",\"addGalleryCardContainer\":\"personalInformation_addGalleryCardContainer__g5Xak\",\"editButton\":\"personalInformation_editButton__NMHJF\",\"mainInformationAndAddButtonContainer\":\"personalInformation_mainInformationAndAddButtonContainer__37bGM\",\"mainInformation\":\"personalInformation_mainInformation__3sLIy\",\"avatarContainer\":\"personalInformation_avatarContainer__2Mz_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__4gg0a\",\"logo\":\"header_logo__2K_BC\",\"mestos\":\"header_mestos__19D_f\",\"russia\":\"header_russia__14FvB\",\"logOut\":\"header_logOut__234dc\",\"buttons\":\"header_buttons__3F7Bv\",\"button\":\"header_button__GL6lq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"like\":\"galleryCard_like__2kOAE\",\"checked\":\"galleryCard_checked__2VcNi\",\"unchecked\":\"galleryCard_unchecked__3iFqn\",\"cardImg\":\"galleryCard_cardImg__2c0u7\",\"name\":\"galleryCard_name__1-D7D\",\"content\":\"galleryCard_content__1jmcp\",\"trash\":\"galleryCard_trash__1ApPZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryContainer\":\"gallery_galleryContainer__3bkJl\"};"],"sourceRoot":""}